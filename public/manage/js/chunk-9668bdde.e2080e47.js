(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9668bdde"],{"0538":function(t,e,n){"use strict";var o=n("da84"),r=n("e330"),a=n("59ed"),c=n("861d"),i=n("1a2d"),s=n("f36a"),l=o.Function,u=r([].concat),f=r([].join),d={},p=function(t,e,n){if(!i(d,e)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";d[e]=l("C,a","return new C("+f(o,",")+")")}return d[e](t,n)};t.exports=l.bind||function(t){var e=a(this),n=e.prototype,o=s(arguments,1),r=function(){var n=u(o,s(arguments));return this instanceof r?p(e,n.length,n):e.apply(t,n)};return c(n)&&(r.prototype=n),r}},"131a":function(t,e,n){var o=n("23e7"),r=n("d2bb");o({target:"Object",stat:!0},{setPrototypeOf:r})},3410:function(t,e,n){var o=n("23e7"),r=n("d039"),a=n("7b0b"),c=n("e163"),i=n("e177"),s=r((function(){c(1)}));o({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(t){return c(a(t))}})},"4ae1":function(t,e,n){var o=n("23e7"),r=n("d066"),a=n("2ba4"),c=n("0538"),i=n("5087"),s=n("825a"),l=n("861d"),u=n("7c73"),f=n("d039"),d=r("Reflect","construct"),p=Object.prototype,h=[].push,y=f((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),v=!f((function(){d((function(){}))})),b=y||v;o({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(t,e){i(t),s(e);var n=arguments.length<3?t:i(arguments[2]);if(v&&!y)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return a(h,o,e),new(a(c,t,o))}var r=n.prototype,f=u(l(r)?r:p),b=a(t,f,e);return l(b)?b:f}})},"5d0c":function(t,e,n){},"7db0":function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").find,a=n("44d2"),c="find",i=!0;c in[]&&Array(1)[c]((function(){i=!1})),o({target:"Array",proto:!0,forced:i},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},b208:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var o=n("d4ec"),r=n("bee2");n("131a");function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}n("4ae1"),n("d3b7"),n("f8c9"),n("3410");function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var l=n("53ca");function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){if(e&&("object"===Object(l["a"])(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function d(t){var e=s();return function(){var n,o=i(t);if(e){var r=i(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}var p=videojs.getComponent("Button"),h=null,y=function(t){c(n,t);var e=d(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o["a"])(this,n),r=e.call(this,t,a),r.controlText("云台控制"),r.show=!1,r}return Object(r["a"])(n,[{key:"buildCSSClass",value:function(){return"ali-icon-font  ali-icon-PTZ ptz-btn"}},{key:"handleClick",value:function(){this.show=!this.show,"function"===typeof h&&h(this.show)}}],[{key:"setFn",value:function(t){h=t}}]),n}(p)},c268:function(t,e,n){"use strict";n("5d0c")},f8c9:function(t,e,n){var o=n("23e7"),r=n("da84"),a=n("d44e");o({global:!0},{Reflect:{}}),a(r.Reflect,"Reflect",!0)},fbc7:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-play"},[n("a-card",{attrs:{bordered:!1}},[n("EasyPlayer",{ref:"player",attrs:{"video-title":"摄像头直播",videoUrl:t.playUrl,aspect:t.aspect,onDemand:!0,autoplay:t.autoplay,muted:t.muted,"element-loading-text":"加载中...","element-loading-background":"#000",live:"",fluent:t.fluent,stretch:t.stretch},on:{ended:t.onPlayEnded,play:t.onPlay,error:t.onPlayError}}),n("a-tabs",{attrs:{"default-active-key":"1"}},[n("a-tab-pane",{key:"1"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"share"}}),t._v(" 分享地址 ")],1),n("div",{staticClass:"control"},[n("a-radio-group",{style:{marginBottom:"8px"},on:{change:t.changePlay},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[n("a-radio-button",{attrs:{value:"0"}},[t._v(" ws-flv ")]),n("a-radio-button",{attrs:{value:"1"}},[t._v(" http-flv ")]),n("a-radio-button",{attrs:{value:"4"}},[t._v(" hls ")])],1),n("div",{staticClass:"form-group"},[n("a-input",{attrs:{"addon-before":"ws-flv","default-value":this.playUrls[0],disabled:""}},[n("a-icon",{attrs:{slot:"addonAfter",type:"copy"},on:{click:function(e){return t.copyPlayUrl(0)}},slot:"addonAfter"})],1)],1),n("div",{staticClass:"form-group"},[n("a-input",{attrs:{"addon-before":"http-flv","default-value":this.playUrls[1],disabled:""}},[n("a-icon",{attrs:{slot:"addonAfter",type:"copy"},on:{click:function(e){return t.copyPlayUrl(1)}},slot:"addonAfter"})],1)],1),n("div",{staticClass:"form-group"},[n("a-input",{attrs:{"addon-before":"hls","default-value":this.playUrls[4],disabled:""}},[n("a-icon",{attrs:{slot:"addonAfter",type:"copy"},on:{click:function(e){return t.copyPlayUrl(4)}},slot:"addonAfter"})],1)],1)],1)]),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"file"}}),t._v(" 录像文件 ")],1),n("a-empty",{attrs:{description:"程序猿正在迭代中，请耐心等待"}})],1)],1),n("ptz-container",{directives:[{name:"show",rawName:"v-show",value:t.showPtz,expression:"showPtz"}],ref:"player-ptz",attrs:{customClass:t.ptzActiveClass},on:{"click-center":t.onClickCenter,"click-top":t.onClickTop,"click-right":t.onClickRight,"click-bottom":t.onClickBottom,"click-left":t.onClickLeft}})],1)],1)},r=[],a=n("1da1"),c=(n("96cf"),n("7db0"),n("d3b7"),n("aa98")),i=n("7987"),s=n.n(i),l=n("b208"),u=n("2af9"),f={data:function(){return{playUrl:"",mode:"4",aspect:"16:9",muted:!1,autoplay:!1,fluent:!1,stretch:!1,showPtz:!1,ptzActiveClass:"",ptzRequested:!1}},components:{EasyPlayer:s.a,PtzContainer:u["c"]},mounted:function(){},beforeDestroy:function(){console.log("beforeDestroy"),this.$refs.player.destroyPlayer()},methods:{addControlBtn:function(){var t=this;setTimeout((function(){var e=videojs.getComponent("Component");l["a"].setFn((function(e){t.showPtz=e,t.showPtz||(t.ptzActiveClass="")})),e.registerComponent("PtzButton",l["a"]);var n=$(".easy-video-player-inner"),o=n.find(".video-js");if(!o.length)return!1;var r=o.attr("id"),a=videojs.getPlayer(r);a.getChild("controlBar").addChild("PtzButton",{},0),$(".vjs-stretch-control").length>1&&$(".vjs-stretch-control").eq(0).remove(),$(".vjs-snapshot-control").length>1&&$(".vjs-snapshot-control").eq(0).remove()}),200)},onPlay:function(t){console.log("onPlay:",t),this.addControlBtn()},onPlayEnded:function(t){console.log("onPlayEnded:",t)},onPlayError:function(t){console.log("onPlayError:",t)},changePlay:function(t){this.playUrl=this.playUrls[parseInt(t.target.value)]},copyPlayUrl:function(t){this.copy(this.playUrls[t])},copy:function(t){var e=document.createElement("textarea");e.setAttribute("readonly","readonly"),e.value=t,document.body.appendChild(e),e.select();var n=document.execCommand("copy");return this.$message.success("复制成功!!!"),n},onClickCenter:function(){console.log("stop")},onClickTop:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("top"),t._ptzCtrl(t.ptzCommands.up);case 2:case"end":return e.stop()}}),e)})))()},onClickRight:function(){console.log("right"),this._ptzCtrl(this.ptzCommands.right)},onClickBottom:function(){console.log("bottom"),this._ptzCtrl(this.ptzCommands.down)},onClickLeft:function(){console.log("left"),this._ptzCtrl(this.ptzCommands.left)},_ptzCtrl:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.ptzRequested){n.next=2;break}return n.abrupt("return",!1);case 2:return e.ptzRequested=!0,n.next=5,Object(c["x"])(e.mainId,t);case 5:return o=n.sent,e.ptzRequested=!1,e.ptzActiveClass="",n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})))()}},computed:{title:function(){return this.$route.meta.title},mainId:function(){return this.$route.params.id},playUrls:function(){var t=this.$route.query.playUrls;return t.length&&(this.playUrl=t[parseInt(this.mode)]),t},ptzCommands:function(){return this.$store.state.ptzCommands}},watch:{$route:{handler:function(t,e){console.log(t,e)},deep:!0},mode:function(t,e){}}},d=f,p=(n("c268"),n("2877")),h=Object(p["a"])(d,o,r,!1,null,"a15022ae",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-9668bdde.e2080e47.js.map