(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e0955f6"],{"0538":function(t,e,n){"use strict";var r=n("da84"),o=n("e330"),a=n("59ed"),c=n("861d"),i=n("1a2d"),s=n("f36a"),l=r.Function,u=o([].concat),f=o([].join),d={},p=function(t,e,n){if(!i(d,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";d[e]=l("C,a","return new C("+f(r,",")+")")}return d[e](t,n)};t.exports=l.bind||function(t){var e=a(this),n=e.prototype,r=s(arguments,1),o=function(){var n=u(r,s(arguments));return this instanceof o?p(e,n.length,n):e.apply(t,n)};return c(n)&&(o.prototype=n),o}},"0cc4":function(t,e,n){},"131a":function(t,e,n){var r=n("23e7"),o=n("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:o})},"27ed":function(t,e,n){},"33c7":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-header"},[n("span",{staticClass:"title"},[t._v(t._s(t.realName))]),n("div",{staticClass:"flex-spacer"}),n("div",[t._t("actions")],2)]),n("div",{class:{center:t.center}},[t._t("default")],2)])},o=[],a=n("5530"),c=n("2f62"),i=n("4416"),s=n.n(i),l={name:"PageContent",props:{title:String,center:Boolean},computed:Object(a["a"])(Object(a["a"])({},Object(c["c"])({matchedMenusChain:function(t){return t.matchedMenusChain}})),{},{realName:function(){var t,e;if(this.title)return this.title;var n="";return this.matchedMenusChain.length&&(n=s()(this.matchedMenusChain).title),n||(null===(t=this.$route)||void 0===t||null===(e=t.meta)||void 0===e?void 0:e.title)||""}})},u=l,f=(n("e4b2"),n("2877")),d=Object(f["a"])(u,r,o,!1,null,"81c7aafa",null);e["a"]=d.exports},3410:function(t,e,n){var r=n("23e7"),o=n("d039"),a=n("7b0b"),c=n("e163"),i=n("e177"),s=o((function(){c(1)}));r({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(t){return c(a(t))}})},"4ae1":function(t,e,n){var r=n("23e7"),o=n("d066"),a=n("2ba4"),c=n("0538"),i=n("5087"),s=n("825a"),l=n("861d"),u=n("7c73"),f=n("d039"),d=o("Reflect","construct"),p=Object.prototype,h=[].push,v=f((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),y=!f((function(){d((function(){}))})),m=v||y;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){i(t),s(e);var n=arguments.length<3?t:i(arguments[2]);if(y&&!v)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return a(h,r,e),new(a(c,t,r))}var o=n.prototype,f=u(l(o)?o:p),m=a(t,f,e);return l(m)?m:f}})},"616b":function(t,e,n){"use strict";n("27ed")},"71b7":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-content",[n("ptz-container",{directives:[{name:"show",rawName:"v-show",value:t.showPtz,expression:"showPtz"}],ref:"player-ptz",attrs:{customClass:t.ptzActiveClass},on:{"click-center":t.onClickCenter,"click-top":t.onClickTop,"click-right":t.onClickRight,"click-bottom":t.onClickBottom,"click-left":t.onClickLeft}}),n("div",{staticClass:"video-play"},[n("a-card",{attrs:{bordered:!1}},[n("EasyPlayer",{ref:"player",attrs:{"video-title":"摄像头直播",videoUrl:t.playUrl,aspect:t.aspect,onDemand:!0,autoplay:t.autoplay,muted:t.muted,"element-loading-text":"加载中...","element-loading-background":"#000",live:"",fluent:t.fluent,stretch:t.stretch},on:{ended:t.onPlayEnded,play:t.onPlay,error:t.onPlayError}}),n("a-tabs",{attrs:{"default-active-key":"1"}},[n("a-tab-pane",{key:"1"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"share"}}),t._v(" 分享地址 ")],1),t.playUrls.length?n("div",{staticClass:"control"},[n("a-radio-group",{style:{marginBottom:"8px"},on:{change:t.changePlay},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[n("a-radio-button",{attrs:{value:"0"}},[t._v(" ws-flv ")]),n("a-radio-button",{attrs:{value:"1"}},[t._v(" http-flv ")]),n("a-radio-button",{attrs:{value:"4"}},[t._v(" hls ")])],1),n("div",{staticClass:"form-group"},[n("a-input",{attrs:{"addon-before":"ws-flv","default-value":t.playUrls[0],disabled:""}},[n("a-icon",{attrs:{slot:"addonAfter",type:"copy"},on:{click:function(e){return t.copyPlayUrl(0)}},slot:"addonAfter"})],1)],1),n("div",{staticClass:"form-group"},[n("a-input",{attrs:{"addon-before":"http-flv","default-value":t.playUrls[1],disabled:""}},[n("a-icon",{attrs:{slot:"addonAfter",type:"copy"},on:{click:function(e){return t.copyPlayUrl(1)}},slot:"addonAfter"})],1)],1),n("div",{staticClass:"form-group"},[n("a-input",{attrs:{"addon-before":"hls","default-value":t.playUrls[4],disabled:""}},[n("a-icon",{attrs:{slot:"addonAfter",type:"copy"},on:{click:function(e){return t.copyPlayUrl(4)}},slot:"addonAfter"})],1)],1)],1):t._e()]),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"file"}}),t._v(" 录像文件 ")],1),n("a-empty",{attrs:{description:"程序猿正在迭代中，请耐心等待"}})],1)],1)],1)],1)],1)},o=[],a=n("1da1"),c=(n("96cf"),n("7db0"),n("d3b7"),n("aa98")),i=n("7987"),s=n.n(i),l=n("b208"),u=n("2af9"),f=n("33c7"),d={data:function(){return{playUrls:[],playUrl:"",mode:"4",aspect:"16:9",muted:!1,autoplay:!1,fluent:!1,stretch:!1,showPtz:!1,ptzActiveClass:"",ptzRequested:!1}},components:{EasyPlayer:s.a,PtzContainer:u["c"],PageContent:f["a"]},mounted:function(){this.liveUrl()},beforeDestroy:function(){console.log("beforeDestroy"),this.$refs.player.destroyPlayer()},methods:{addControlBtn:function(){var t=this;setTimeout((function(){var e=videojs.getComponent("Component");l["a"].setFn((function(e){t.showPtz=e,t.showPtz||(t.ptzActiveClass="")})),e.registerComponent("PtzButton",l["a"]);var n=$(".easy-video-player-inner"),r=n.find(".video-js");if(!r.length)return!1;var o=r.attr("id"),a=videojs.getPlayer(o);a.getChild("controlBar").addChild("PtzButton",{},0),$(".vjs-stretch-control").length>1&&$(".vjs-stretch-control").eq(0).remove(),$(".vjs-snapshot-control").length>1&&$(".vjs-snapshot-control").eq(0).remove()}),200)},onPlay:function(t){console.log("onPlay:",t),this.addControlBtn()},onPlayEnded:function(t){console.log("onPlayEnded:",t)},onPlayError:function(t){console.log("onPlayError:",t)},changePlay:function(t){this.playUrl=this.playUrls[parseInt(t.target.value)]},copyPlayUrl:function(t){this.copy(this.playUrls[t])},copy:function(t){var e=document.createElement("textarea");e.setAttribute("readonly","readonly"),e.value=t,document.body.appendChild(e),e.select();var n=document.execCommand("copy");return this.$message.success("复制成功!!!"),n},onClickCenter:function(){console.log("stop"),this._ptzCtrl(this.ptzCommands.stop)},onClickTop:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("top"),t._ptzCtrl(t.ptzCommands.up);case 2:case"end":return e.stop()}}),e)})))()},onClickRight:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("right"),t._ptzCtrl(t.ptzCommands.right);case 2:case"end":return e.stop()}}),e)})))()},onClickBottom:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("bottom"),t._ptzCtrl(t.ptzCommands.down);case 2:case"end":return e.stop()}}),e)})))()},onClickLeft:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("left"),t._ptzCtrl(t.ptzCommands.left);case 2:case"end":return e.stop()}}),e)})))()},_ptzCtrl:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.ptzRequested){n.next=2;break}return n.abrupt("return",!1);case 2:return e.ptzRequested=!0,n.next=5,Object(c["x"])(e.mainId,t);case 5:return r=n.sent,e.ptzRequested=!1,e.ptzActiveClass="",n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))()},liveUrl:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["v"])(t.mainId);case 2:n=e.sent,r=n.playUrls,t.playUrls=r,t.playUrl=t.playUrls[parseInt(t.mode)];case 6:case"end":return e.stop()}}),e)})))()}},computed:{title:function(){return this.$route.meta.title},mainId:function(){return this.$route.params.id},ptzCommands:function(){return this.$store.state.ptzCommands}},watch:{$route:{handler:function(t,e){console.log(t,e)},deep:!0},mode:function(t,e){}}},p=d,h=(n("616b"),n("2877")),v=Object(h["a"])(p,r,o,!1,null,"1d41455e",null);e["default"]=v.exports},"7db0":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").find,a=n("44d2"),c="find",i=!0;c in[]&&Array(1)[c]((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},b208:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("d4ec"),o=n("bee2");n("131a");function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}n("4ae1"),n("d3b7"),n("f8c9"),n("3410");function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var l=n("53ca");function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){if(e&&("object"===Object(l["a"])(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function d(t){var e=s();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var p=videojs.getComponent("Button"),h=null,v=function(t){c(n,t);var e=d(n);function n(t){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r["a"])(this,n),o=e.call(this,t,a),o.controlText("云台控制"),o.show=!1,o}return Object(o["a"])(n,[{key:"buildCSSClass",value:function(){return"ali-icon-font  ali-icon-PTZ ptz-btn"}},{key:"handleClick",value:function(){this.show=!this.show,"function"===typeof h&&h(this.show)}}],[{key:"setFn",value:function(t){h=t}}]),n}(p)},e4b2:function(t,e,n){"use strict";n("0cc4")},f8c9:function(t,e,n){var r=n("23e7"),o=n("da84"),a=n("d44e");r({global:!0},{Reflect:{}}),a(o.Reflect,"Reflect",!0)}}]);
//# sourceMappingURL=chunk-2e0955f6.2e9b3e82.js.map