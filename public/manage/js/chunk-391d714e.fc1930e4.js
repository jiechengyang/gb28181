(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-391d714e"],{a6e9:function(e,t,a){},ad71:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-settings-info-view"},[a("a-row",{attrs:{gutter:16,type:"flex",justify:"center"}},[a("a-col",{attrs:{order:1,md:24,lg:16}},[a("a-form",{attrs:{layout:"vertical",form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"网站名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"网站名称必须填写"}]}],expression:"['name', { rules: [{ required: true, message: '网站名称必须填写' }] }]"}],attrs:{name:"name"}})],1),a("a-form-item",{attrs:{label:"网站副标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["slogan"],expression:"['slogan']"}],attrs:{name:"slogan"}})],1),a("a-form-item",{attrs:{label:"网站域名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",e.validatorRules.url],expression:"['url', validatorRules.url]"}],attrs:{placeholder:"以'http://'或'https://'头",name:"url"}})],1),a("a-form-item",{attrs:{label:"管理员邮箱地址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["master_email",{rules:[{type:"email",message:"请输入正确的邮箱地址"}]}],expression:"['master_email', { rules: [{ type: 'email', message: '请输入正确的邮箱地址' }] }]"}],attrs:{name:"master_email"}})],1),a("a-form-item",{attrs:{label:"ICP备案号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["icp"],expression:"['icp']"}],attrs:{name:"icp"}})],1),a("a-form-item",[a("a-button",{attrs:{htmlType:"submit",type:"primary",loading:e.loading}},[e._v("保存")])],1)],1)],1)],1)],1)},s=[],o=a("1da1"),i=(a("96cf"),a("2ef0")),n=a("f64c"),l=a("90e7"),m=a("e572"),u={data:function(){return{form:this.$form.createForm(this),loading:!1,model:{},validatorRules:{url:{rules:[{pattern:m["g"].URL,message:"请输入正确的url地址!"}]},phone:{rules:[{pattern:m["g"].PHONE,message:"请输入正确的手机号码!"}]}}}},mounted:function(){this.getSettingValue()},methods:{getSettingValue:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["f"])("site");case 2:a=t.sent,console.log("model:",a),e.model=a,e.setFormData();case 6:case"end":return t.stop()}}),t)})))()},setFormData:function(){var e=this;this.form.resetFields(),this.model=Object.assign({},this.model),this.$nextTick((function(){e.form.setFieldsValue(Object(i["pick"])(e.model,"name","slogan","url","master_email","icp"))}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.loading=!0,this.form.validateFields((function(e,a){e||(console.log("Received values of form: ",a),Object(l["c"])("site",a).then((function(e){console.log("data:",e),n["a"].success("保存成功"),t.$store.commit("SETTING_VALUE",{path:m["e"].SLUG,value:e}),t.loading=!1})))}))}}},c=u,d=(a("d6b7"),a("2877")),f=Object(d["a"])(c,r,s,!1,null,"46a94324",null);t["default"]=f.exports},d6b7:function(e,t,a){"use strict";a("a6e9")}}]);
//# sourceMappingURL=chunk-391d714e.fc1930e4.js.map