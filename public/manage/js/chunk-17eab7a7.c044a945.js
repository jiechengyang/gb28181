(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17eab7a7"],{4296:function(t,e,r){"use strict";r("c96e")},"889e":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a-card",{attrs:{bordered:!1}},[r("a-divider",{staticStyle:{"margin-bottom":"32px"}}),t.nvr?r("a-descriptions",{attrs:{title:"基础信息"}},[r("a-descriptions-item",{attrs:{label:"设备名称"}},[t._v(t._s(t.nvr.device_name))]),r("a-descriptions-item",{attrs:{label:"国标编码ID"}},[t._v(t._s(t.nvr.device_id))]),r("a-descriptions-item",{attrs:{label:"设备SN"}},[t._v(t._s(t.nvr.device_sn))]),r("a-descriptions-item",{attrs:{label:"编码类型"}},[t._v(t._s(t.nvr.type_code))]),r("a-descriptions-item",{attrs:{label:"制造商"}},[t._v(t._s(t.nvr.manufacturer))]),r("a-descriptions-item",{attrs:{label:"模型"}},[t._v(t._s(t.nvr.device_model))]),r("a-descriptions-item",{attrs:{label:"固件版本"}},[t._v(t._s(t.nvr.firmware))]),r("a-descriptions-item",{attrs:{label:"通道数"}},[t._v(t._s(t.nvr.channel_num))]),r("a-descriptions-item",{attrs:{label:"在线状态"}},[t._v(t._s(t.nvr.status_title))]),r("a-descriptions-item",{attrs:{label:"本地ip"}},[t._v(t._s(t.nvr.local_ip))]),r("a-descriptions-item",{attrs:{label:"sip端口号"}},[t._v(t._s(t.nvr.local_sip_port))]),r("a-descriptions-item",{attrs:{label:"本地http端口号"}},[t._v(t._s(t.nvr.local_http_port))]),r("a-descriptions-item",{attrs:{label:"本地服务端口号"}},[t._v(t._s(t.nvr.local_server_port))]),r("a-descriptions-item",{attrs:{label:"公网ip"}},[t._v(t._s(t.nvr.net_ip))]),r("a-descriptions-item",{attrs:{label:"公网sip端口号"}},[t._v(t._s(t.nvr.net_sip_port))]),r("a-descriptions-item",{attrs:{label:"公网http端口号"}},[t._v(t._s(t.nvr.net_http_port))]),r("a-descriptions-item",{attrs:{label:"公网服务端口号"}},[t._v(t._s(t.nvr.net_server_port))]),r("a-descriptions-item",{attrs:{label:"用户名"}},[t._v(t._s(t.nvr.username))]),r("a-descriptions-item",{attrs:{label:"密码"}},[t._v(t._s(t.nvr.password))]),r("a-descriptions-item",{attrs:{label:"设备所在地"}},[t._v(t._s(t.nvr.address))]),r("a-descriptions-item",{attrs:{label:"合作方"}},[t._v(t._s(t.nvr.partner_name))]),r("a-descriptions-item",{attrs:{label:"最新上线时间"}},[t._v(t._s(t._f("filterTime")(t.nvr.lastOnlineTime)))]),r("a-descriptions-item",{attrs:{label:"上次离线时间"}},[t._v(t._s(t._f("filterTime")(t.nvr.lastOfflineTime)))]),r("a-descriptions-item",{attrs:{label:"创建时间"}},[t._v(t._s(t._f("filterTime")(t.nvr.createdTime)))])],1):t._e(),r("a-divider",{staticStyle:{"margin-bottom":"32px"}}),r("div",{staticClass:"title"},[t._v("设备注册/注销日志")]),r("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{"row-key":"id",columns:t.regColumns,data:t.loadRegisterLog},scopedSlots:t._u([{key:"time",fn:function(e){return r("span",{},[t._v(t._s(t._f("filterTime")(e,e)))])}},{key:"operation",fn:function(e,i){return[r("a-button",{attrs:{type:"link",size:"small"},on:{click:function(e){return t.copy(i.data)}}},[t._v(" 复制上报数据 ")])]}}])}),r("div",{staticClass:"title"},[t._v("设备上线日志")]),r("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{"row-key":"id",columns:t.actColumns,data:t.loadActiveLog},scopedSlots:t._u([{key:"time",fn:function(e){return r("span",{},[t._v(t._s(t._f("filterTime")(e,e)))])}}])})],1)],1)},a=[],s=r("1da1"),n=(r("96cf"),r("caad"),r("2532"),r("c1df")),o=r.n(n),l=r("2af9"),c=r("f64c"),d=r("aa98"),m={data:function(){var t=this;return{nvr:null,regColumns:[{title:"编号",dataIndex:"id",key:"id"},{title:"是否就绪",dataIndex:"ready_title",key:"ready_title"},{title:"类型",dataIndex:"type_title",key:"type_title",filters:[{text:"注册上报",value:"registered"},{text:"注销上报",value:"unRegistered"}],onFilter:function(e,r){return t.regLogQueryParams.type=e,r.type.includes(e)}},{title:"IP",dataIndex:"ipAddress",key:"ipAddress"},{title:"发生时间",dataIndex:"registerTime",key:"registerTime",scopedSlots:{customRender:"time"}},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}],actColumns:[{title:"编号",dataIndex:"id",key:"id"},{title:"心跳连续丢失次数",dataIndex:"lostTimes",key:"lostTimes"},{title:"活跃时间",dataIndex:"keepAliveTime",key:"keepAliveTime",scopedSlots:{customRender:"time"}}],regLogQueryParams:{nvrId:"",type:""},actLogQueryParams:{nvrId:""},loadRegisterLog:function(e){return e.nvrId=t.id,t.regLogQueryParams=Object.assign(t.regLogQueryParams,e),t.getDeviceRegisterLogs()},loadActiveLog:function(e){return e.nvrId=t.id,Object(d["m"])(e)}}},components:{STable:l["d"]},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getNvr();case 1:case"end":return e.stop()}}),e)})))()},getNvr:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["q"])(t.id);case 2:t.nvr=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getDeviceRegisterLogs:function(){return Object(d["n"])(this.regLogQueryParams)},copy:function(t){var e=document.createElement("textarea");e.setAttribute("readonly","readonly"),e.value=t,document.body.appendChild(e),e.select();var r=document.execCommand("copy");return e.style.display="none",e.remove(),c["a"].success("复制成功!!!"),r}},filters:{filterTime:function(t){return o()(t).format("YYYY-MM-DD HH:mm")},statusFilter:function(t){var e={processing:"进行中",success:"完成",failed:"失败"};return e[t]}},computed:{title:function(){return this.$route.meta.title},id:function(){return this.$route.params.id}}},u=m,v=(r("4296"),r("2877")),p=Object(v["a"])(u,i,a,!1,null,"87ac285c",null);e["default"]=p.exports},c96e:function(t,e,r){}}]);
//# sourceMappingURL=chunk-17eab7a7.c044a945.js.map