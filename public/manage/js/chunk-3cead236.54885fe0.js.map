{"version":3,"sources":["webpack:///./src/views/device/ipc/index.vue?929e","webpack:///src/views/device/ipc/index.vue","webpack:///./src/views/device/ipc/index.vue?defc","webpack:///./src/views/device/ipc/index.vue","webpack:///./src/components/LzPopconfirm.vue?d6f9","webpack:///src/components/LzPopconfirm.vue","webpack:///./src/components/LzPopconfirm.vue?39d7","webpack:///./src/components/LzPopconfirm.vue","webpack:///./src/views/device/ipc/index.vue?7b86","webpack:///./src/components/LzPopconfirm.vue?9eb2","webpack:///./src/api/third-party.js","webpack:///./src/components/PageContent.vue?6775","webpack:///src/components/PageContent.vue","webpack:///./src/components/PageContent.vue?aa81","webpack:///./src/components/PageContent.vue","webpack:///./src/components/LzPagination.vue?17cc","webpack:///./src/components/LzPagination.vue?8e9d","webpack:///src/components/LzPagination.vue","webpack:///./src/components/LzPagination.vue?4165","webpack:///./src/components/LzPagination.vue","webpack:///./src/components/PageContent.vue?2926"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","on","thirdPartyChange","model","value","queryParams","callback","$$v","$set","expression","_v","_l","thirdParty","key","id","_s","partner_name","nvr","device_name","device_id","search","$event","resetSearchForm","selectedRowKeys","length","slot","batchBindRecorder","batchUpdateMediaServer","batchUpdateRtpProto","batchActiveLiveCameras","batchDeleteCameras","batchLockedCameras","batchRefreshCameras","batchOpenLiveCameras","batchStopLiveCameras","batchBindRecordPlanId","_e","ref","columns","ipcDevices","rowSelection","loading","x","scopedSlots","_u","fn","text","record","auto_live","enabled","main_id","onCellChange","media_server_id","close_live","rtp_proto","time","_f","lastOnlineTime","lastOfflineTime","status","device_status_title","paginator","changePaginator","showSizeChange","visible","confirmLoading","handleCancel","handleOk","visibleRecorder","confirmLoadingRecorder","handleRecorderCancel","handleRecorderOk","visibleRtpProto","confirmLoadingRtpProto","handleSettingRtpProtoCancel","handleSettingRtpProtoOk","visibleRecordPlan","confirmLoadingRecordPlan","handleRecordPlanCancel","handleRecordPlanOk","staticRenderFns","component","_b","onVisibleChange","title","_t","onCancel","cancelText","onConfirm","okText","proxy","$attrs","name","components","LoadingAction","Space","data","props","type","String","default","confirm","Function","disabled","Boolean","methods","$emit","getThirdParties","params","Request","get","createThirdParty","formData","promisePost","editThirdParty","lockThirdParty","unlockThirdParty","lockThirdParties","ids","post","unlockThirdParties","getLiveProviderItems","getThirdPartyItems","realName","class","center","computed","matchedMenusChain","pageSizes","page","total","showSizeChanger","showQuickJumper","perPage","onChange","onSizeChange","currentPage","Object","autoPush","sizes","indexOf","push","offset","limit","$router","path","$route","query","current","pageSize","watch","handler","newVal","immediate"],"mappings":"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","file":"js/chunk-3cead236.54885fe0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isTopView)?_c('page-content',[_c('div',{staticClass:\"table-page-search-wrapper\"},[_c('a-form',{attrs:{\"layout\":\"inline\"}},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"md\":21,\"sm\":12}},[_c('a-form-item',{attrs:{\"label\":\"所属合作方\"}},[_c('a-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\",\"default-value\":\"0\"},on:{\"change\":_vm.thirdPartyChange},model:{value:(_vm.queryParams.parterId),callback:function ($$v) {_vm.$set(_vm.queryParams, \"parterId\", $$v)},expression:\"queryParams.parterId\"}},[_c('a-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"全部\")]),_vm._l((_vm.thirdPartyItems),function(thirdParty,key){return _c('a-select-option',{key:key,attrs:{\"value\":thirdParty.id}},[_vm._v(_vm._s(thirdParty.partner_name))])})],2)],1),_c('a-form-item',{attrs:{\"label\":\"所属录像机\"}},[_c('a-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\",\"default-value\":\"0\"},model:{value:(_vm.queryParams.recorderId),callback:function ($$v) {_vm.$set(_vm.queryParams, \"recorderId\", $$v)},expression:\"queryParams.recorderId\"}},[_c('a-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"全部\")]),_vm._l((_vm.nvrItems),function(nvr,key){return _c('a-select-option',{key:key,attrs:{\"value\":nvr.id}},[_vm._v(_vm._s(nvr.device_name ? nvr.device_name : nvr.device_id))])})],2)],1),_c('a-form-item',{attrs:{\"label\":\"在线状态\"}},[_c('a-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\",\"default-value\":\"0\"},model:{value:(_vm.queryParams.status),callback:function ($$v) {_vm.$set(_vm.queryParams, \"status\", $$v)},expression:\"queryParams.status\"}},[_c('a-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"全部\")]),_vm._l((_vm.statusItems),function(value,key){return _c('a-select-option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(value))])})],2)],1),_c('a-form-item',{attrs:{\"label\":\"直播方式\"}},[_c('a-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\",\"default-value\":\"1\"},model:{value:(_vm.queryParams.liveType),callback:function ($$v) {_vm.$set(_vm.queryParams, \"liveType\", $$v)},expression:\"queryParams.liveType\"}},[_c('a-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"全部\")]),_c('a-select-option',{attrs:{\"value\":\"1\"}},[_vm._v(\"按需直播\")]),_c('a-select-option',{attrs:{\"value\":\"2\"}},[_vm._v(\"自动直播\")])],1)],1),_c('a-form-item',{attrs:{\"label\":\"关键字\"}},[_c('a-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"输入关键字\"},model:{value:(_vm.queryParams.keywords),callback:function ($$v) {_vm.$set(_vm.queryParams, \"keywords\", $$v)},expression:\"queryParams.keywords\"}})],1)],1),_c('a-col',{attrs:{\"md\":3,\"sm\":12}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")]),_c('a-button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.resetSearchForm()}}},[_vm._v(\"重置\")])],1)],1)],1)],1),_c('div',{staticClass:\"table-operator\"},[_c('div',{staticClass:\"batch-control pull-left\"},[(_vm.selectedRowKeys.length > 0)?_c('a-dropdown',[_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',{key:\"1\",on:{\"click\":function($event){return _vm.batchBindRecorder()}}},[_c('a-icon',{attrs:{\"type\":\"setting\"}}),_vm._v(\"绑定录像机 \")],1),_c('a-menu-item',{key:\"2\",on:{\"click\":function($event){return _vm.batchUpdateMediaServer()}}},[_c('a-icon',{attrs:{\"type\":\"setting\"}}),_vm._v(\"更换流媒体服务节点 \")],1),_c('a-menu-item',{key:\"9\",on:{\"click\":function($event){return _vm.batchUpdateRtpProto()}}},[_c('a-tooltip',{attrs:{\"placement\":\"right\"}},[_c('template',{slot:\"title\"},[_c('span',[_vm._v(\"提示：再激活设备或开启自动推流前，设置推流方式，默认是TCP主动方式推流;已激活设备修改推流方式后会在1分钟内生效\")])]),_c('a-icon',{attrs:{\"type\":\"setting\"}}),_vm._v(\"设置推流方式 \")],2)],1),_c('a-menu-item',{key:\"3\",on:{\"click\":function($event){return _vm.batchActiveLiveCameras()}}},[_c('a-icon',{attrs:{\"type\":\"setting\"}}),_vm._v(\"激活设备 \")],1),_c('a-menu-item',{key:\"4\",on:{\"click\":function($event){return _vm.batchDeleteCameras()}}},[_c('a-icon',{attrs:{\"type\":\"delete\"}}),_vm._v(\"删除 \")],1),_c('a-menu-item',{key:\"5\",on:{\"click\":function($event){return _vm.batchLockedCameras()}}},[_c('a-icon',{attrs:{\"type\":\"lock\"}}),_vm._v(\"封禁 \")],1),_c('a-menu-item',{key:\"6\",on:{\"click\":function($event){return _vm.batchRefreshCameras()}}},[_c('a-icon',{attrs:{\"type\":\"sync\"}}),_vm._v(\"同步 \")],1),_c('a-menu-item',{key:\"7\",on:{\"click\":function($event){return _vm.batchOpenLiveCameras()}}},[_c('a-icon',{attrs:{\"type\":\"play-circle\"}}),_vm._v(\"开启自动推流直播 \")],1),_c('a-menu-item',{key:\"8\",on:{\"click\":function($event){return _vm.batchStopLiveCameras()}}},[_c('a-icon',{attrs:{\"type\":\"close\"}}),_vm._v(\"关闭直播 \")],1),_c('a-menu-item',{key:\"10\",on:{\"click\":function($event){return _vm.batchBindRecordPlanId()}}},[_c('a-icon',{attrs:{\"type\":\"setting\"}}),_vm._v(\"绑定录像计划 \")],1)],1),_c('a-button',{staticStyle:{\"margin-left\":\"8px\"}},[_vm._v(\" 批量操作 \"),_c('a-icon',{attrs:{\"type\":\"down\"}})],1)],1):_vm._e()],1)]),_c('a-table',{ref:\"table\",attrs:{\"columns\":_vm.columns,\"data-source\":_vm.ipcDevices,\"pagination\":false,\"rowSelection\":_vm.rowSelection,\"loading\":_vm.loading,\"rowKey\":\"id\",\"scroll\":{ x: 1000 }},scopedSlots:_vm._u([{key:\"main_id\",fn:function(text, record){return [(record.auto_live == 0 && record.enabled == 1)?_c('a-popover',{attrs:{\"title\":\"监控直播\",\"content\":\"点击播放\"}},[_c('router-link',{attrs:{\"to\":(\"/device/ipc/\" + (record.main_id) + \"/play\")}},[_vm._v(_vm._s(record.main_id))])],1):_c('span',[_vm._v(_vm._s(record.main_id))])]}},{key:\"channel_name\",fn:function(text, record){return [_c('edit-table-cell',{attrs:{\"text\":text},on:{\"change\":function($event){return _vm.onCellChange(record.id, 'channel_name', $event)}}})]}},{key:\"media_server_id\",fn:function(media_server_id, record){return [(record.close_live == 1)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"推流已关闭\")]):_c('span',[_vm._v(\" \"+_vm._s(media_server_id)+\" \"),_c('p',[_vm._v(_vm._s(record.auto_live == 1 ? '自动推流' : '按需推流'))]),_c('p',[_vm._v(_vm._s(record.rtp_proto === 'tcp' ? 'TCP主动' : 'UDP主动'))])])]}},{key:\"time\",fn:function(time, record){return [_c('div',{staticClass:\"time-show\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"创建:\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"filterTime\")(time,time)))])]),(record.lastOnlineTime != 0)?_c('div',{staticClass:\"time-show\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"上线:\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"filterTime\")(record.lastOnlineTime,record.lastOnlineTime)))])]):_vm._e(),(record.lastOfflineTime != 0)?_c('div',{staticClass:\"time-show\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"离线:\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"filterTime\")(record.lastOfflineTime,record.lastOfflineTime)))])]):_vm._e()]}},{key:\"status\",fn:function(status, record){return [_c('a-badge',{attrs:{\"status\":_vm._f(\"statusTypeFilter\")(status),\"text\":record.device_status_title}})]}}],null,false,2653316712)}),_c('lz-pagination',{attrs:{\"page\":_vm.paginator,\"autoPush\":false},on:{\"change\":_vm.changePaginator,\"showSizeChange\":_vm.showSizeChange}}),_c('bind-media-form',{ref:\"bindMediaFormModal\",attrs:{\"visible\":_vm.visible,\"loading\":_vm.confirmLoading},on:{\"cancel\":_vm.handleCancel,\"ok\":_vm.handleOk}}),_c('bind-recorder-form',{ref:\"bindRecorderFormModal\",attrs:{\"visible\":_vm.visibleRecorder,\"loading\":_vm.confirmLoadingRecorder},on:{\"cancel\":_vm.handleRecorderCancel,\"ok\":_vm.handleRecorderOk}}),_c('setting-rtp-proto-form',{ref:\"settingRtpProtoFormModal\",attrs:{\"visible\":_vm.visibleRtpProto,\"loading\":_vm.confirmLoadingRtpProto},on:{\"cancel\":_vm.handleSettingRtpProtoCancel,\"ok\":_vm.handleSettingRtpProtoOk}}),_c('bind-record-plan-form',{ref:\"bindRecordPlanFormModal\",attrs:{\"visible\":_vm.visibleRecordPlan,\"loading\":_vm.confirmLoadingRecordPlan},on:{\"cancel\":_vm.handleRecordPlanCancel,\"ok\":_vm.handleRecordPlanOk}})],1):_c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-prototype-builtins -->\n<template>\n  <page-content v-if=\"isTopView\">\n    <div class=\"table-page-search-wrapper\">\n      <a-form layout=\"inline\">\n        <a-row :gutter=\"24\">\n          <a-col :md=\"21\" :sm=\"12\">\n            <a-form-item label=\"所属合作方\">\n              <a-select\n                v-model=\"queryParams.parterId\"\n                placeholder=\"请选择\"\n                default-value=\"0\"\n                style=\"width: 150px\"\n                @change=\"thirdPartyChange\"\n              >\n                <a-select-option value=\"\">全部</a-select-option>\n                <a-select-option\n                  v-for=\"(thirdParty, key) in thirdPartyItems\"\n                  :key=\"key\"\n                  :value=\"thirdParty.id\"\n                >{{ thirdParty.partner_name }}</a-select-option\n                >\n              </a-select>\n            </a-form-item>\n            <a-form-item label=\"所属录像机\">\n              <a-select\n                v-model=\"queryParams.recorderId\"\n                placeholder=\"请选择\"\n                default-value=\"0\"\n                style=\"width: 150px\"\n              >\n                <a-select-option value=\"\">全部</a-select-option>\n                <a-select-option v-for=\"(nvr, key) in nvrItems\" :key=\"key\" :value=\"nvr.id\">{{\n                  nvr.device_name ? nvr.device_name : nvr.device_id\n                }}</a-select-option>\n              </a-select>\n            </a-form-item>\n            <a-form-item label=\"在线状态\">\n              <a-select\n                v-model=\"queryParams.status\"\n                placeholder=\"请选择\"\n                default-value=\"0\"\n                style=\"width: 150px\"\n              >\n                <a-select-option value=\"\">全部</a-select-option>\n                <a-select-option v-for=\"(value, key) in statusItems\" :key=\"key\" :value=\"key\">{{\n                  value\n                }}</a-select-option>\n              </a-select>\n            </a-form-item>\n            <a-form-item label=\"直播方式\">\n              <a-select\n                v-model=\"queryParams.liveType\"\n                placeholder=\"请选择\"\n                default-value=\"1\"\n                style=\"width: 150px\"\n              >\n                <a-select-option value=\"\">全部</a-select-option>\n                <a-select-option value=\"1\">按需直播</a-select-option>\n                <a-select-option value=\"2\">自动直播</a-select-option>\n              </a-select>\n            </a-form-item>\n            <a-form-item label=\"关键字\">\n              <a-input v-model=\"queryParams.keywords\" placeholder=\"输入关键字\" style=\"width: 250px\" />\n            </a-form-item>\n          </a-col>\n          <a-col :md=\"3\" :sm=\"12\">\n            <a-button type=\"primary\" @click=\"search\">查询</a-button>\n            <a-button style=\"margin-left: 8px\" @click=\"resetSearchForm()\">重置</a-button>\n          </a-col>\n        </a-row>\n      </a-form>\n    </div>\n    <div class=\"table-operator\">\n      <div class=\"batch-control pull-left\">\n        <!-- 可以使用自定义指令进行按钮鉴权限  -->\n        <!-- 后端对操作权限可以固定设置：增、删、改、查  -->\n        <!-- 后端对操作权限也可以详细设置：增、删、改、查、封禁、解封、批量封禁、批量解封  -->\n        <a-dropdown v-if=\"selectedRowKeys.length > 0\">\n          <a-menu slot=\"overlay\">\n            <!-- lock | unlock -->\n            <a-menu-item key=\"1\" @click=\"batchBindRecorder()\">\n              <a-icon type=\"setting\" />绑定录像机\n            </a-menu-item>\n            <a-menu-item key=\"2\" @click=\"batchUpdateMediaServer()\">\n              <a-icon type=\"setting\" />更换流媒体服务节点\n            </a-menu-item>\n            <a-menu-item key=\"9\" @click=\"batchUpdateRtpProto()\">\n              <a-tooltip placement=\"right\">\n                <template slot=\"title\">\n                  <span>提示：再激活设备或开启自动推流前，设置推流方式，默认是TCP主动方式推流;已激活设备修改推流方式后会在1分钟内生效</span>\n                </template>\n                <a-icon type=\"setting\" />设置推流方式\n              </a-tooltip>\n            </a-menu-item>\n            <a-menu-item key=\"3\" @click=\"batchActiveLiveCameras()\">\n              <a-icon type=\"setting\" />激活设备\n            </a-menu-item>\n            <a-menu-item key=\"4\" @click=\"batchDeleteCameras()\"> <a-icon type=\"delete\" />删除 </a-menu-item>\n            <a-menu-item key=\"5\" @click=\"batchLockedCameras()\"> <a-icon type=\"lock\" />封禁 </a-menu-item>\n            <a-menu-item key=\"6\" @click=\"batchRefreshCameras()\"> <a-icon type=\"sync\" />同步 </a-menu-item>\n            <a-menu-item key=\"7\" @click=\"batchOpenLiveCameras()\">\n              <a-icon type=\"play-circle\" />开启自动推流直播\n            </a-menu-item>\n            <a-menu-item key=\"8\" @click=\"batchStopLiveCameras()\">\n              <a-icon type=\"close\" />关闭直播\n            </a-menu-item>\n            <a-menu-item key=\"10\" @click=\"batchBindRecordPlanId()\">\n              <a-icon type=\"setting\" />绑定录像计划\n            </a-menu-item>\n          </a-menu>\n          <a-button style=\"margin-left: 8px\">\n            批量操作\n            <a-icon type=\"down\" />\n          </a-button>\n        </a-dropdown>\n      </div>\n    </div>\n    <a-table\n      :columns=\"columns\"\n      :data-source=\"ipcDevices\"\n      :pagination=\"false\"\n      :rowSelection=\"rowSelection\"\n      ref=\"table\"\n      :loading=\"loading\"\n      rowKey=\"id\"\n      :scroll=\"{ x: 1000 }\"\n    >\n      <template slot=\"main_id\" slot-scope=\"text, record\">\n        <a-popover title=\"监控直播\" content=\"点击播放\" v-if=\"record.auto_live == 0 && record.enabled == 1\">\n          <router-link :to=\"`/device/ipc/${record.main_id}/play`\">{{ record.main_id }}</router-link>\n        </a-popover>\n        <span v-else>{{ record.main_id }}</span>\n      </template>\n      <template slot=\"channel_name\" slot-scope=\"text, record\">\n        <edit-table-cell :text=\"text\" @change=\"onCellChange(record.id, 'channel_name', $event)\" />\n      </template>\n      <template slot=\"media_server_id\" slot-scope=\"media_server_id, record\">\n        <span v-if=\"record.close_live == 1\" style=\"color: red\">推流已关闭</span>\n        <span v-else>\n          {{ media_server_id }}\n          <p>{{ record.auto_live == 1 ? '自动推流' : '按需推流' }}</p>\n          <p>{{ record.rtp_proto === 'tcp' ? 'TCP主动' : 'UDP主动' }}</p>\n        </span>\n      </template>\n      <template slot=\"time\" slot-scope=\"time, record\">\n        <div class=\"time-show\">\n          <label for=\"\">创建:</label><span>{{ time | filterTime(time) }}</span>\n        </div>\n        <div class=\"time-show\" v-if=\"record.lastOnlineTime != 0\">\n          <label for=\"\">上线:</label\n          ><span>{{ record.lastOnlineTime | filterTime(record.lastOnlineTime) }}</span>\n        </div>\n        <div class=\"time-show\" v-if=\"record.lastOfflineTime != 0\">\n          <label for=\"\">离线:</label\n          ><span>{{ record.lastOfflineTime | filterTime(record.lastOfflineTime) }}</span>\n        </div>\n      </template>\n      <template slot=\"status\" slot-scope=\"status, record\">\n        <a-badge :status=\"status | statusTypeFilter\" :text=\"record.device_status_title\" />\n      </template>\n    </a-table>\n    <lz-pagination :page=\"paginator\" @change=\"changePaginator\" @showSizeChange=\"showSizeChange\" :autoPush=\"false\" />\n    <bind-media-form\n      ref=\"bindMediaFormModal\"\n      :visible=\"visible\"\n      :loading=\"confirmLoading\"\n      @cancel=\"handleCancel\"\n      @ok=\"handleOk\"\n    />\n    <bind-recorder-form\n      ref=\"bindRecorderFormModal\"\n      :visible=\"visibleRecorder\"\n      :loading=\"confirmLoadingRecorder\"\n      @cancel=\"handleRecorderCancel\"\n      @ok=\"handleRecorderOk\"\n    />\n    <setting-rtp-proto-form\n      ref=\"settingRtpProtoFormModal\"\n      :visible=\"visibleRtpProto\"\n      :loading=\"confirmLoadingRtpProto\"\n      @cancel=\"handleSettingRtpProtoCancel\"\n      @ok=\"handleSettingRtpProtoOk\"\n    />\n    <bind-record-plan-form\n      ref=\"bindRecordPlanFormModal\"\n      :visible=\"visibleRecordPlan\"\n      :loading=\"confirmLoadingRecordPlan\"\n      @cancel=\"handleRecordPlanCancel\"\n      @ok=\"handleRecordPlanOk\"\n    />\n  </page-content>\n  <router-view v-else />\n</template>\n\n<script>\nimport {\n    getIpcDevices,\n    getStatusItems,\n    batchDeleteIpc,\n    editIpc,\n    batchSyncIpc,\n    batchActiveIpc,\n    batchLockIpc,\n    batchOpenLiveIpc,\n    batchCloseLiveIpc,\n    batchUpdateMediaServer,\n    nvrItems,\n    batchBindRecorder,\n    batchUpdateRtpProto,\n    batchBindRecordPlan\n} from '@/api/device'\nimport { getThirdPartyItems } from '@/api/third-party'\nimport Space from '@c/Space'\nimport LzPagination from '@c/LzPagination'\nimport PageContent from '@c/PageContent'\nimport LzPopconfirm from '@c/LzPopconfirm'\nimport { getRouteByCode } from '@/libs/utils'\nimport { EditTableCell } from '@c/'\nimport moment from 'moment'\nconst defaultQueryParams = {\n    keywords: '',\n    status: '',\n    recorderId: '',\n    parterId: '',\n    enabled: '',\n    liveType: '',\n    offset: 1,\n    limit: 10\n}\nexport default {\n    name: 'Index',\n    scroll: true,\n    components: {\n        LzPopconfirm,\n        PageContent,\n        LzPagination,\n        Space,\n        EditTableCell,\n        bindMediaForm: () => import('../nvr/setting-media-server.vue'),\n        bindRecorderForm: () => import('./setting-recorder.vue'),\n        settingRtpProtoForm: () => import('./setting-rtp-proto.vue'),\n        bindRecordPlanForm: () => import('./setting-record-plan.vue')\n    },\n    data () {\n        return {\n            statusItems: [],\n            nvrItems: [],\n            thirdPartyItems: [],\n            visible: false,\n            confirmLoading: false,\n            visibleRecorder: false,\n            confirmLoadingRecorder: false,\n            visibleRtpProto: false,\n            confirmLoadingRtpProto: false,\n            visibleRecordPlan: false,\n            confirmLoadingRecordPlan: false,\n            loading: false,\n            queryParams: Object.assign(defaultQueryParams, {}),\n            selectedRowKeys: [],\n            selectedRows: [],\n            columns: [\n                {\n                    title: '设备编号',\n                    dataIndex: 'main_id',\n                    key: 'main_id',\n                    width: 100,\n                    scopedSlots: { customRender: 'main_id' }\n                },\n                {\n                    title: '通道名称',\n                    dataIndex: 'channel_name',\n                    key: 'channel_name',\n                    width: 250,\n                    scopedSlots: { customRender: 'channel_name' }\n                },\n                {\n                    title: '通道ID',\n                    dataIndex: 'channel_id',\n                    key: 'channel_id',\n                    width: 250,\n                    ellipsis: true\n                },\n                {\n                    title: 'IP',\n                    dataIndex: 'ip_v4_address',\n                    width: 120,\n                    key: 'ip_v4_address'\n                },\n                {\n                    title: '流媒体服务器',\n                    dataIndex: 'media_server_id',\n                    key: 'media_server_id',\n                    ellipsis: true,\n                    scopedSlots: { customRender: 'media_server_id' }\n                },\n                {\n                    title: '在线状态',\n                    dataIndex: 'device_status',\n                    key: 'device_status',\n                    ellipsis: true,\n                    width: 100,\n                    scopedSlots: { customRender: 'status' }\n                },\n                {\n                    title: '激活状态',\n                    dataIndex: 'enabled_title',\n                    key: 'enabled_title',\n                    width: 100,\n                    ellipsis: true\n                },\n                {\n                    title: '所属录像机',\n                    dataIndex: 'recorder_name',\n                    key: 'recorder_name',\n                    width: 250,\n                    ellipsis: true\n                },\n                {\n                    title: '录像计划',\n                    width: 150,\n                    dataIndex: 'record_plan_name',\n                    key: 'record_plan_name',\n                    ellipsis: true\n                },\n                {\n                    title: '所属合作方',\n                    width: 150,\n                    dataIndex: 'third_party_name',\n                    key: 'third_party_name',\n                    ellipsis: true\n                },\n                {\n                    title: '时间',\n                    dataIndex: 'createdTime',\n                    key: 'createdTime',\n                    ellipsis: true,\n                    width: 200,\n                    fixed: 'right',\n                    scopedSlots: { customRender: 'time' }\n                }\n            ],\n            ipcDevices: [],\n            paginator: null,\n            hasEdit: false,\n            hasDelete: false\n        }\n    },\n    mounted () {\n        if (this.isTopView) {\n            this.getStatusItems()\n            this.getThirdPartyItems()\n            this.getNvrItems()\n            this.loadData()\n            this.checkPermissions()\n        }\n    },\n    computed: {\n        isTopView () {\n            return this.$route.path === '/device/ipc/index'\n        },\n        rowSelection () {\n            return {\n                selectedRowKeys: this.selectedRowKeys,\n                onChange: this.onSelectChange\n            }\n        },\n        selectedUnActiveRowKeys () {\n            if (!this.selectedRows) {\n                return []\n            }\n\n            const keys = this.selectedRows\n                // eslint-disable-next-line eqeqeq\n                .filter((row) => row.enabled == 0)\n                .map((item, index) => {\n                    return item.id\n                })\n\n            return keys\n        },\n        selectedActiveRowKeys () {\n            if (!this.selectedRows) {\n                return []\n            }\n\n            const keys = this.selectedRows\n                // eslint-disable-next-line eqeqeq\n                .filter((row) => row.enabled == 1)\n                .map((item, index) => {\n                    return item.id\n                })\n\n            return keys\n        }\n    },\n    methods: {\n        getPopupContainer (trigger) {\n            return trigger.parentElement\n        },\n        checkPermissions () {\n            const vueRouters = this.$store.state.vueRouters.vueRouters\n            let route = getRouteByCode(vueRouters, 'device-ipc-edit')\n            if (route) {\n                this.hasEdit = true\n            }\n            route = getRouteByCode(vueRouters, 'device-ipc-lock')\n            if (route) {\n                this.hasDelete = true\n            }\n        },\n        onSelectChange (selectedRowKeys, selectedRows) {\n            this.selectedRowKeys = selectedRowKeys\n            this.selectedRows = selectedRows\n        },\n        onCellChange (key, dataIndex, value) {\n            if (!value) {\n                return false\n            }\n\n            const formData = { channel_name: value, scenario: 'changeChannelName' }\n            editIpc(key, formData)\n                .then((response) => {\n                    this.refresh()\n                })\n                .catch((error) => {\n                    this.$message.error(error.message || '修改出错了')\n                })\n        },\n        handleEdit (id) {},\n        handleCancel () {\n            this.visible = false\n        },\n        handleOk () {\n            const model = this.$refs.bindMediaFormModal.model\n            this.confirmLoading = true\n            this.$refs.bindMediaFormModal.$refs.bindForm.validate((valid) => {\n                if (!valid) {\n                    return false\n                }\n                batchUpdateMediaServer(this.selectedRowKeys, model.media_server_id).then((response) => {\n                    this.$message.success('保存成功')\n                    this.visible = false\n                    this.confirmLoading = false\n                    this.refresh()\n                })\n            })\n        },\n        handleRecorderCancel () {\n            this.visibleRecorder = false\n            this.$refs.bindRecorderFormModal.resetForm()\n        },\n\n        handleRecorderOk () {\n            const model = this.$refs.bindRecorderFormModal.model\n            this.confirmLoadingRecorder = true\n            this.$refs.bindRecorderFormModal.$refs.bindForm.validate((valid) => {\n                if (!valid) {\n                    this.$message.error('参数校验失败')\n                    return false\n                }\n                batchBindRecorder(this.selectedRowKeys, model.recorder_id).then((response) => {\n                    this.$message.success('保存成功')\n                    this.visibleRecorder = false\n                    this.confirmLoadingRecorder = false\n                    this.refresh()\n                })\n            })\n        },\n        handleRecordPlanCancel () {\n            this.visibleRecordPlan = false\n            this.$refs.bindRecordPlanFormModal.resetForm()\n        },\n\n        handleRecordPlanOk () {\n            const model = this.$refs.bindRecordPlanFormModal.model\n            this.confirmLoadingRecordPlan = true\n            this.$refs.bindRecordPlanFormModal.$refs.bindRpForm.validate((valid) => {\n                if (!valid) {\n                    this.$message.error('参数校验失败')\n                    return false\n                }\n                batchBindRecordPlan(this.selectedRowKeys, model.record_plan_id).then((response) => {\n                    this.$message.success('保存成功')\n                    this.visibleRecordPlan = false\n                    this.confirmLoadingRecordPlan = false\n                    this.refresh()\n                }).catch(error => {\n                  this.$message.error(error.message)\n                })\n            })\n        },\n        handleSettingRtpProtoCancel () {\n            this.visibleRtpProto = false\n            this.$refs.settingRtpProtoFormModal.resetForm()\n        },\n        handleSettingRtpProtoOk () {\n            const model = this.$refs.settingRtpProtoFormModal.model\n            this.confirmLoadingRtpProto = true\n            this.$refs.settingRtpProtoFormModal.$refs.bindForm.validate((valid) => {\n                if (!valid) {\n                    this.$message.error('参数校验失败')\n                    return false\n                }\n                batchUpdateRtpProto(this.selectedRowKeys, model.rtp_proto).then((response) => {\n                    this.$message.success('保存成功')\n                    this.visibleRtpProto = false\n                    this.confirmLoadingRtpProto = false\n                    this.refresh()\n                })\n            })\n        },\n        resetSearchForm () {\n            this.queryParams = defaultQueryParams\n        },\n        search () {\n            this.resetPagination()\n            this.loadData()\n        },\n        refresh (resetSearch = true) {\n            this.loadData()\n            if (resetSearch) {\n                this.resetSearchForm()\n            }\n            this.resetTableSelection()\n        },\n        resetPagination () {\n            this.queryParams.offset = 1\n            this.queryParams.limit = 10\n        },\n        showSizeChange (current, perPage) {\n            this.queryParams = Object.assign(this.queryParams, {\n                offset: current,\n                limit: perPage\n            })\n            this.refresh()\n        },\n        changePaginator (page, pageSize) {\n            this.queryParams = Object.assign(this.queryParams, {\n                offset: page,\n                limit: pageSize\n            })\n            this.refresh()\n        },\n        async getStatusItems () {\n            this.statusItems = await getStatusItems()\n        },\n        async getNvrItems () {\n            const params = {}\n            if (this.queryParams.parterId) {\n                params.parter_id = this.queryParams.parterId\n            }\n\n            this.nvrItems = await nvrItems(params)\n        },\n        async getThirdPartyItems () {\n            this.thirdPartyItems = await getThirdPartyItems()\n        },\n        async loadData () {\n            this.loading = true\n            // eslint-disable-next-line no-prototype-builtins\n            if (this.$route.params.hasOwnProperty('id')) {\n                this.queryParams.recorderId = this.$route.params.id\n            }\n            const { devices, paginator } = await getIpcDevices(this.queryParams)\n            this.ipcDevices = devices\n            this.paginator = paginator\n            this.loading = false\n        },\n        dateFormat (row, column) {\n            var date = row[column.property]\n            console.log('date:', date)\n            if (!date) {\n                return ''\n            }\n            return moment(date).format('YYYY-MM-DD HH:mm:ss')\n        },\n        async batchDeleteCameras () {\n            const that = this\n            this.$confirm({\n                title: '删除不能恢复，确认要删除选中的设备吗?',\n                async onOk () {\n                    const reuslt = await batchDeleteIpc(that.selectedRowKeys)\n                    that.$message.success('删除成功')\n                    that.refresh()\n                },\n                onCancel () {},\n                class: 'test'\n            })\n        },\n        async batchLockedCameras () {\n            const that = this\n            this.$confirm({\n                title: '确认要封禁选中的设备吗?',\n                async onOk () {\n                    await batchLockIpc(that.selectedRowKeys)\n                    that.$message.success('封禁成功')\n                    that.refresh()\n                },\n                onCancel () {},\n                class: 'test'\n            })\n        },\n        async batchActiveLiveCameras () {\n            const that = this\n            this.$confirm({\n                title: '确认要激活选中的设备吗?',\n                async onOk () {\n                    const reuslt = await batchActiveIpc(that.selectedUnActiveRowKeys)\n                    if (reuslt.async) {\n                        that.$message.success('任务已生成，可等待1分钟刷新页面查看')\n                    } else {\n                        that.$message.success('开启成功')\n                    }\n                    that.refresh()\n                },\n                onCancel () {},\n                class: 'test'\n            })\n        },\n        async batchOpenLiveCameras () {\n            const that = this\n            this.$confirm({\n                title: '确认要开启选中的设备的直播吗?',\n                async onOk () {\n                    if (!that.selectedActiveRowKeys.length) {\n                        that.$message.error('未有可设置的设备')\n                        return false\n                    }\n\n                    const reuslt = await batchOpenLiveIpc(that.selectedActiveRowKeys)\n                    if (reuslt.async) {\n                        that.$message.success('任务已生成，可等待1分钟刷新页面查看')\n                    } else {\n                        that.$message.success('关闭成功')\n                    }\n                    that.refresh()\n                },\n                onCancel () {},\n                class: 'test'\n            })\n        },\n        async batchStopLiveCameras () {\n            const that = this\n            this.$confirm({\n                title: '确认要关闭选中的设备的直播吗?',\n                async onOk () {\n                    if (!that.selectedActiveRowKeys.length) {\n                        that.$message.error('未有可设置的设备')\n                        return false\n                    }\n                    const reuslt = await batchCloseLiveIpc(that.selectedActiveRowKeys)\n                    if (reuslt.async) {\n                        that.$message.success('任务已生成，可等待1分钟刷新页面查看')\n                    } else {\n                        that.$message.success('关闭成功')\n                    }\n                    that.refresh()\n                },\n                onCancel () {},\n                class: 'test'\n            })\n        },\n        async batchRefreshCameras () {\n            const that = this\n            this.$confirm({\n                title: '确认要同步选中的设备吗?',\n                async onOk () {\n                    const reuslt = await batchSyncIpc(that.selectedRowKeys)\n                    if (reuslt.async) {\n                        that.$message.success('同步任务已生成，可等待1分钟刷新页面查看')\n                    } else {\n                        that.$message.success('同步成功')\n                    }\n                    that.refresh()\n                },\n                onCancel () {},\n                class: 'test'\n            })\n        },\n        batchUpdateMediaServer () {\n            this.$refs.bindMediaFormModal.resetForm()\n            this.visible = true\n            this.confirmLoading = false\n        },\n        batchUpdateRtpProto () {\n            this.$refs.settingRtpProtoFormModal.resetForm()\n            this.visibleRtpProto = true\n            this.confirmLoadingRtpProto = false\n        },\n        batchBindRecorder () {\n            this.$refs.bindRecorderFormModal.resetForm()\n            this.visibleRecorder = true\n            this.confirmLoadingRecorder = false\n        },\n        batchBindRecordPlanId () {\n            this.$refs.bindRecordPlanFormModal.getRecordPlanItems()\n            this.$refs.bindRecordPlanFormModal.resetForm()\n            this.visibleRecordPlan = true\n            this.confirmLoadingRecordPlan = false\n        },\n        resetTableSelection () {\n            this.selectedRowKeys = []\n            this.selectedRows = []\n        },\n        async thirdPartyChange () {\n            this.getNvrItems()\n        }\n    },\n    filters: {\n        filterTime (time) {\n            return moment(time).format('YYYY-MM-DD HH:mm')\n        },\n        statusTypeFilter (type) {\n            const statusTypeMap = {\n                0: 'warning',\n                '-1': 'error',\n                1: 'success'\n            }\n            return statusTypeMap[type]\n        }\n    }\n}\n</script>\n<style lang=\"less\">\n.del-span {\n    text-decoration: line-through;\n    color: red;\n}\n.pwd-border-none {\n    .ant-input {\n        border: none;\n        padding-left: 0px;\n        &:focus {\n            border: none;\n        }\n    }\n}\n.time-show {\n    font-size: 14px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3fce2973&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-popover',_vm._b({attrs:{\"trigger\":\"click\",\"visible\":_vm.visible},on:{\"visibleChange\":_vm.onVisibleChange},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"mb-2\"},[(_vm.title)?_c('span',[_vm._v(_vm._s(_vm.title))]):_vm._t(\"title\")],2),_c('space',{staticClass:\"actions\"},[_c('a-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.cancelText))]),_c('loading-action',{attrs:{\"action\":_vm.onConfirm,\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\" \"+_vm._s(_vm.okText)+\" \")])],1)]},proxy:true}])},'a-popover',_vm.$attrs,false),[_vm._t(\"default\",null,{\"pop\":this})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-popover\n    trigger=\"click\"\n    :visible=\"visible\"\n    v-bind=\"$attrs\"\n    @visibleChange=\"onVisibleChange\"\n  >\n    <template #content>\n      <div class=\"mb-2\">\n        <span v-if=\"title\">{{ title }}</span>\n        <slot v-else name=\"title\"/>\n      </div>\n      <space class=\"actions\">\n        <a-button size=\"small\" @click=\"onCancel\">{{ cancelText }}</a-button>\n        <loading-action\n          :action=\"onConfirm\"\n          size=\"small\"\n          type=\"primary\"\n        >\n          {{ okText }}\n        </loading-action>\n      </space>\n    </template>\n    <slot v-bind:pop=\"this\"/>\n  </a-popover>\n</template>\n\n<script>\nimport Space from '@c/Space'\nimport LoadingAction from '@c/LoadingAction'\n\nexport default {\n  name: 'LzPopconfirm',\n  components: {\n    LoadingAction,\n    Space,\n  },\n  data: () => ({\n    visible: false,\n  }),\n  props: {\n    title: {\n      type: String,\n      default: '确认操作？',\n    },\n    cancelText: {\n      type: String,\n      default: '取消',\n    },\n    okText: {\n      type: String,\n      default: '确认',\n    },\n    /**\n     * 传入异步函数，就会有 loading 效果\n     */\n    confirm: Function,\n    disabled: Boolean,\n  },\n  methods: {\n    onCancel() {\n      this.visible = false\n      this.$emit('cancel')\n    },\n    async onConfirm() {\n      this.confirm && await this.confirm()\n      this.$emit('confirm')\n      this.visible = false\n    },\n    onVisibleChange(visible) {\n      if (this.disabled) {\n        return\n      }\n      this.visible = visible\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n.actions {\n  display: flex;\n  justify-content: flex-end;\n  min-width: 130px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPopconfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPopconfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LzPopconfirm.vue?vue&type=template&id=85c03b24&scoped=true&\"\nimport script from \"./LzPopconfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./LzPopconfirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LzPopconfirm.vue?vue&type=style&index=0&id=85c03b24&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85c03b24\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPopconfirm.vue?vue&type=style&index=0&id=85c03b24&scoped=true&lang=less&\"","import Request from '@/axios/request'\n\nexport function getThirdParties (params = {}) {\n  return Request.get('thirdParty/index', {\n    params\n  })\n}\n\nexport function getThirdParty (id) {\n  return Request.get('thirdParty/show', { params: { id: id } })\n}\n\nexport function createThirdParty (formData) {\n  return Request.promisePost('thirdParty/create', formData)\n}\n\nexport function editThirdParty (id, formData) {\n  return Request.promisePost('thirdParty/edit', formData, {\n    params: {\n      id: id\n    }\n  })\n}\n\nexport function lockThirdParty (id) {\n  return Request.get('thirdParty/lock', { params: { id: id } })\n}\n\nexport function unlockThirdParty (id) {\n  return Request.get('thirdParty/unlock', { params: { id: id } })\n}\n\nexport function lockThirdParties (ids) {\n  return Request.post('thirdParty/locks', { ids: ids })\n}\n\nexport function unlockThirdParties (ids) {\n  return Request.post('thirdParty/unlocks', { ids: ids })\n}\n\nexport function getLiveProviderItems () {\n  return Request.get('thirdParty/liveProviderItems')\n}\n\nexport function getThirdPartyItems (params = {}) {\n  return Request.get('thirdParty/items', { params })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"content-header\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.realName))]),_c('div',{staticClass:\"flex-spacer\"}),_c('div',[_vm._t(\"actions\")],2)]),_c('div',{class:{ center: _vm.center }},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"content-header\">\n      <span class=\"title\">{{ realName }}</span>\n      <div class=\"flex-spacer\"/>\n      <div>\n        <slot name=\"actions\"/>\n      </div>\n    </div>\n    <div :class=\"{ center }\">\n      <slot/>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex'\nimport _last from 'lodash/last'\n\nexport default {\n  name: 'PageContent',\n  props: {\n    title: String,\n    center: Boolean,\n  },\n  computed: {\n    ...mapState({\n      matchedMenusChain: (state) => state.matchedMenusChain,\n    }),\n    realName() {\n      if (this.title) {\n        return this.title\n      }\n\n      let title = ''\n      if (this.matchedMenusChain.length) {\n        title = _last(this.matchedMenusChain).title\n      }\n\n      return title || this.$route?.meta?.title || ''\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n.content-header {\n  height: 40px;\n  display: flex;\n  align-items: center;\n}\n\n.title {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.center {\n  display: flex;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageContent.vue?vue&type=template&id=81c7aafa&scoped=true&\"\nimport script from \"./PageContent.vue?vue&type=script&lang=js&\"\nexport * from \"./PageContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageContent.vue?vue&type=style&index=0&id=81c7aafa&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81c7aafa\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPagination.vue?vue&type=style&index=0&id=0efa4349&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.page)?_c('a-pagination',_vm._b({ref:\"page\",staticClass:\"my-1 pagination\",attrs:{\"page-size-options\":_vm.pageSizes,\"total\":_vm.page.total,\"show-size-changer\":_vm.showSizeChanger,\"show-quick-jumper\":_vm.showQuickJumper,\"show-total\":function (total) { return (\"共 \" + total + \" 条\"); },\"page-size\":_vm.perPage},on:{\"update:pageSize\":function($event){_vm.perPage=$event},\"update:page-size\":function($event){_vm.perPage=$event},\"change\":_vm.onChange,\"showSizeChange\":_vm.onSizeChange},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}},'a-pagination',_vm.$attrs,false)):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-pagination\n    ref=\"page\"\n    v-if=\"page\"\n    v-model=\"currentPage\"\n    v-bind=\"$attrs\"\n    :page-size-options=\"pageSizes\"\n    class=\"my-1 pagination\"\n    :total=\"page.total\"\n    :show-size-changer=\"showSizeChanger\"\n    :show-quick-jumper=\"showQuickJumper\"\n    :show-total=\"(total) => `共 ${total} 条`\"\n    :page-size.sync=\"perPage\"\n    @change=\"onChange\"\n    @showSizeChange=\"onSizeChange\"\n  />\n</template>\n\n<script>\nexport default {\n  name: 'LzPagination',\n  data() {\n    return {\n      currentPage: 1,\n      perPage: 15,\n    }\n  },\n  props: {\n    page: Object,\n    /**\n     * 分页改变时，是否自动改变地址栏的 query string\n     */\n    autoPush: {\n      type: Boolean,\n      default: false,\n    },\n    showSizeChanger: {\n      type: Boolean,\n      default: true,\n    },\n    showQuickJumper: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    pageSizes() {\n      const sizes = ['15', '30', '50', '100', '200']\n      const perPage = this.page.perPage.toString()\n      if (sizes.indexOf(perPage) === -1) {\n        return [perPage, ...sizes]\n      } else {\n        return sizes\n      }\n    },\n  },\n  methods: {\n    push({ page, perPage }) {\n      const query = Object.assign({}, this.$route.query, {\n        offset: page || this.currentPage,\n        limit: perPage || this.perPage,\n      })\n      this.$router.push({\n        path: this.$route.path,\n        query,\n      })\n    },\n    onSizeChange(current, perPage) {\n      this.$emit('showSizeChange', current, perPage)\n      if (!this.autoPush) {\n        return\n      }\n\n      // 切换每页数后，当前页置为 1\n      this.currentPage = 1\n      this.push({ page: 1, perPage })\n    },\n    onChange(page, pageSize) {\n      this.$emit('change', page, pageSize)\n      this.autoPush && this.push({ page })\n    },\n  },\n  watch: {\n    page: {\n      handler(newVal) {\n        if (!newVal) {\n          return\n        }\n        this.currentPage = newVal.currentPage\n        this.perPage = newVal.perPage\n      },\n      immediate: true,\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n.pagination {\n  overflow-x: auto;\n  white-space: nowrap;\n  height: 40px;\n  display: flex;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LzPagination.vue?vue&type=template&id=0efa4349&scoped=true&\"\nimport script from \"./LzPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./LzPagination.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LzPagination.vue?vue&type=style&index=0&id=0efa4349&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0efa4349\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageContent.vue?vue&type=style&index=0&id=81c7aafa&scoped=true&lang=less&\""],"sourceRoot":""}