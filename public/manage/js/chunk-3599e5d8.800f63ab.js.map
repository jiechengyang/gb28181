{"version":3,"sources":["webpack:///./src/components/PermissionButton.vue?3e26","webpack:///src/components/PermissionButton.vue","webpack:///./src/components/PermissionButton.vue?bd7a","webpack:///./src/components/PermissionButton.vue","webpack:///./src/components/PermissionButton.vue?1aa2","webpack:///./src/views/resource/record/plan/index.vue?e408","webpack:///./src/views/resource/record/plan/index.vue?8cd7","webpack:///src/views/resource/record/plan/index.vue","webpack:///./src/views/resource/record/plan/index.vue?23c6","webpack:///./src/views/resource/record/plan/index.vue","webpack:///./src/components/LzPagination.vue?17cc","webpack:///./src/components/LzPagination.vue?8e9d","webpack:///src/components/LzPagination.vue","webpack:///./src/components/LzPagination.vue?4165","webpack:///./src/components/LzPagination.vue","webpack:///./src/api/record.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","isCheck","currentBtnRoute","staticClass","type","routeLink","attrs","_v","_s","title","_e","btnType","icon","disabled","loading","on","$emit","class","classname","staticRenderFns","component","staticStyle","tabList","activeTabKey","onTabChange","directives","name","rawName","value","expression","onChange","model","queryParams","callback","$$v","$set","handleAddPlan","ref","plansColumns","plans","rowSelection","localePlan","scopedSlots","_u","key","fn","status","record","_f","status_text","time","text","$event","handlePlanSummary","id","handlePlanEdit","delPlan","paginator","changePaginator","showSizeChange","refresh","playbackColumns","playBacks","localePlayBack","record_status","closePlayBack","includes","parseInt","startPlayBack","delPlayBack","visible","confirmLoading","handleCancel","handleOk","visibleSummary","summaryLoading","_b","pageSizes","page","total","showSizeChanger","showQuickJumper","perPage","onSizeChange","currentPage","$attrs","data","props","Object","autoPush","Boolean","default","computed","sizes","indexOf","methods","push","offset","limit","$router","path","$route","query","current","pageSize","watch","handler","newVal","immediate","getRecordPlans","params","Request","get","addRecordPlan","formData","promisePost","editRecordPlan","getRecordPlan","delRecordPlan","getRecordPlanItems","getRecordChannels","getRecordFiles","getSummaryList","video_id"],"mappings":"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","file":"js/chunk-3599e5d8.800f63ab.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isCheck || _vm.currentBtnRoute)?_c('div',{staticClass:\"permission-button\"},[('tab' === _vm.type && _vm.routeLink)?_c('div',[_c('router-link',{attrs:{\"to\":_vm.routeLink}},[_vm._v(_vm._s(_vm.title))])],1):_vm._e(),('modal' === _vm.type)?_c('div',[(_vm.useBtnTag)?_c('a-button',{attrs:{\"type\":_vm.btnType,\"icon\":_vm.icon,\"disabled\":_vm.disabled,\"loading\":_vm.loading},on:{\"click\":function () {\n          _vm.$emit('handle-click')\n        }}},[_vm._v(_vm._s(_vm.title))]):_c('span',{class:_vm.classname ? _vm.classname : 'edit-btn',on:{\"click\":function () {\n          _vm.$emit('handle-click')\n        }}},[_vm._v(\" \"+_vm._s(_vm.title))])],1):_vm._e(),('confirm' === _vm.type)?_c('div',[_c('span',{class:_vm.classname ? _vm.classname : 'del-btn',on:{\"click\":function () {\n          _vm.$emit('handle-confirm')\n        }}},[_vm._v(\" \"+_vm._s(_vm.title))])]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"permission-button\" v-if=\"!isCheck || currentBtnRoute\">\n    <div v-if=\"'tab' === type && routeLink\">\n      <router-link :to=\"routeLink\">{{ title }}</router-link>\n    </div>\n    <div v-if=\"'modal' === type\">\n      <a-button\n        :type=\"btnType\"\n        :icon=\"icon\"\n        :disabled=\"disabled\"\n        v-if=\"useBtnTag\"\n        @click=\"\n          () => {\n            $emit('handle-click')\n          }\n        \"\n        :loading=\"loading\"\n      >{{ title }}</a-button\n      >\n      <span\n        v-else\n        :class=\"classname ? classname : 'edit-btn'\"\n        @click=\"\n          () => {\n            $emit('handle-click')\n          }\n        \"\n      >\n        {{ title }}</span\n      >\n    </div>\n    <div v-if=\"'confirm' === type\">\n      <span\n        :class=\"classname ? classname : 'del-btn'\"\n        @click=\"\n          () => {\n            $emit('handle-confirm')\n          }\n        \"\n      >\n        {{ title }}</span\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport { getRouteByCode } from '@/libs/utils'\nexport default {\n    name: 'PermissionButton',\n    props: {\n        routeLink: null,\n        type: {\n            type: String,\n            default: 'modal'\n        },\n        code: {\n            type: String,\n            default: ''\n        },\n        title: {\n            type: String,\n            default: ''\n        },\n        loading: {\n            type: Boolean,\n            default: false\n        },\n        icon: {\n            type: String,\n            default: 'plus'\n        },\n        useBtnTag: {\n            type: Boolean,\n            default: true\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        classname: {\n            type: String,\n            default: ''\n        },\n        btnType: {\n            type: String,\n            default: 'primary'\n        },\n        isCheck: {\n            type: Boolean,\n            default: true\n        },\n        confirm: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data () {\n        return {\n            currentBtnRoute: null\n        }\n    },\n    mounted () {\n        this.checkPermission()\n    },\n    methods: {\n        checkPermission () {\n            if (!this.isCheck) {\n                return\n            }\n            const vueRouters = this.$store.state.vueRouters.vueRouters\n            if (!this.code || !vueRouters) {\n                return\n            }\n\n            this.currentBtnRoute = getRouteByCode(vueRouters, this.code)\n        },\n        handleClick (e) {\n            this.$emit('bclick')\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.del-btn,\n.edit-btn {\n    color: #1890ff;\n    cursor: pointer;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionButton.vue?vue&type=template&id=3750c8b8&scoped=true&\"\nimport script from \"./PermissionButton.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PermissionButton.vue?vue&type=style&index=0&id=3750c8b8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3750c8b8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionButton.vue?vue&type=style&index=0&id=3750c8b8&lang=less&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ec4b6e34&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record-container\"},[(_vm.isTopView)?_c('div',{staticClass:\"plan-body\"},[_c('a-card',{staticStyle:{\"margin-top\":\"24px\"},attrs:{\"bordered\":false,\"tabList\":_vm.tabList,\"activeTabKey\":_vm.activeTabKey},on:{\"tabChange\":_vm.onTabChange}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTabKey === '1'),expression:\"activeTabKey === '1'\"}],staticClass:\"record-plan\"},[_c('div',{staticClass:\"table-operator\"},[_c('div',{staticClass:\"pull-left\"},[_c('a-form',{attrs:{\"layout\":\"inline\"}},[_c('a-form-item',{attrs:{\"label\":\"关键字\"}},[_c('a-input-search',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"输入关键字\",\"enter-button\":\"\",\"allow-clear\":\"\"},on:{\"search\":_vm.onChange},model:{value:(_vm.queryParams.keywords),callback:function ($$v) {_vm.$set(_vm.queryParams, \"keywords\", $$v)},expression:\"queryParams.keywords\"}})],1)],1)],1),_c('div',{staticClass:\"pull-right\"},[_c('permission-button',{attrs:{\"code\":\"record-plans-create\",\"title\":\"添加录像计划\",\"type\":\"modal\",\"btnType\":\"Primary\",\"icon\":\"plus\",\"disabled\":_vm.disabled},on:{\"handle-click\":_vm.handleAddPlan}})],1)]),_c('a-table',{ref:\"table1\",attrs:{\"columns\":_vm.plansColumns,\"dataSource\":_vm.plans,\"pagination\":false,\"loading\":_vm.loading,\"rowSelection\":_vm.rowSelection,\"locale\":_vm.localePlan,\"rowKey\":\"id\"},scopedSlots:_vm._u([{key:\"status\",fn:function(status, record){return [_c('a-badge',{attrs:{\"status\":_vm._f(\"statusTypeFilter\")(status),\"text\":record.status_text}})]}},{key:\"time\",fn:function(time){return _c('span',{},[_vm._v(_vm._s(_vm._f(\"filterTime\")(time,time)))])}},{key:\"operation\",fn:function(text, record){return [_c('permission-button',{attrs:{\"code\":\"record-plans-summary\",\"isCheck\":false,\"title\":\"录像统计\",\"type\":\"modal\",\"useBtnTag\":false},on:{\"handle-click\":function($event){return _vm.handlePlanSummary(record.id)}}}),_c('permission-button',{attrs:{\"code\":\"record-plans-update\",\"isCheck\":false,\"title\":\"编辑\",\"type\":\"modal\",\"useBtnTag\":false},on:{\"handle-click\":function($event){return _vm.handlePlanEdit(record.id)}}}),_c('permission-button',{attrs:{\"code\":\"record-plans-delete\",\"isCheck\":false,\"title\":\"删除\",\"type\":\"confirm\"},on:{\"handle-confirm\":function($event){return _vm.delPlan(record.id)}}})]}}],null,false,3458483415)}),_c('lz-pagination',{attrs:{\"page\":_vm.paginator,\"autoPush\":false},on:{\"change\":_vm.changePaginator,\"showSizeChange\":_vm.showSizeChange}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTabKey === '2'),expression:\"activeTabKey === '2'\"}],staticClass:\"record-playback\"},[_c('div',{staticClass:\"table-operator\"},[_c('div',{staticClass:\"pull-left\"},[_c('a-form',{attrs:{\"layout\":\"inline\"}},[_c('a-form-item',{attrs:{\"label\":\"录像状态\"}},[_c('a-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\",\"default-value\":\"1\"},on:{\"change\":_vm.refresh},model:{value:(_vm.queryParams.record_status),callback:function ($$v) {_vm.$set(_vm.queryParams, \"record_status\", $$v)},expression:\"queryParams.record_status\"}},[_c('a-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"全部\")]),_c('a-select-option',{attrs:{\"value\":\"0\"}},[_vm._v(\"未录像\")]),_c('a-select-option',{attrs:{\"value\":\"1\"}},[_vm._v(\"录像中\")]),_c('a-select-option',{attrs:{\"value\":\"-1\"}},[_vm._v(\"关闭录像\")])],1)],1),_c('a-form-item',{attrs:{\"label\":\"关键字\"}},[_c('a-input-search',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"输入关键字\",\"enter-button\":\"\",\"allow-clear\":\"\"},on:{\"search\":_vm.onChange},model:{value:(_vm.queryParams.keywords),callback:function ($$v) {_vm.$set(_vm.queryParams, \"keywords\", $$v)},expression:\"queryParams.keywords\"}})],1)],1)],1)]),_c('a-table',{ref:\"table2\",attrs:{\"columns\":_vm.playbackColumns,\"dataSource\":_vm.playBacks,\"pagination\":false,\"loading\":_vm.loading,\"rowSelection\":_vm.rowSelection,\"locale\":_vm.localePlayBack,\"rowKey\":\"id\"},scopedSlots:_vm._u([{key:\"time\",fn:function(time){return _c('span',{},[_vm._v(_vm._s(_vm._f(\"filterTime\")(time,time)))])}},{key:\"operation\",fn:function(text, record){return [_c('permission-button',{attrs:{\"code\":\"record-playback-view\",\"title\":\"查看录像\",\"isCheck\":false,\"routeLink\":(\"/resource/record-playback/\" + (record.id) + \"/view\"),\"type\":\"tab\"}}),_c('permission-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(record.record_status == 1),expression:\"record.record_status == 1\"}],attrs:{\"code\":\"record-playback-stop\",\"isCheck\":false,\"title\":\"关闭录像\",\"type\":\"confirm\"},on:{\"handle-confirm\":function($event){return _vm.closePlayBack(record.id)}}}),_c('permission-button',{directives:[{name:\"show\",rawName:\"v-show\",value:([0, -1].includes(parseInt(record.record_status))),expression:\"[0, -1].includes(parseInt(record.record_status))\"}],attrs:{\"code\":\"record-playback-start\",\"isCheck\":false,\"title\":\"开启录像\",\"type\":\"confirm\"},on:{\"handle-confirm\":function($event){return _vm.startPlayBack(record.id)}}}),_c('permission-button',{attrs:{\"code\":\"record-playback-delete\",\"isCheck\":false,\"title\":\"清空录像\",\"type\":\"confirm\"},on:{\"handle-confirm\":function($event){return _vm.delPlayBack(record.id)}}})]}}],null,false,398252862)}),_c('lz-pagination',{attrs:{\"page\":_vm.paginator,\"autoPush\":false},on:{\"change\":_vm.changePaginator,\"showSizeChange\":_vm.showSizeChange}})],1)]),_c('plan-form',{ref:\"recordFormModal\",attrs:{\"visible\":_vm.visible,\"loading\":_vm.confirmLoading},on:{\"cancel\":_vm.handleCancel,\"ok\":_vm.handleOk}}),_c('plan-summary',{ref:\"summaryModal\",attrs:{\"visible\":_vm.visibleSummary,\"loading\":_vm.summaryLoading},on:{\"cancel\":function($event){_vm.visibleSummary=false},\"ok\":function($event){_vm.visibleSummary=false}}})],1):_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"record-container\">\n        <div class=\"plan-body\" v-if=\"isTopView\">\n            <a-card\n                style=\"margin-top: 24px\"\n                :bordered=\"false\"\n                :tabList=\"tabList\"\n                :activeTabKey=\"activeTabKey\"\n                @tabChange=\"onTabChange\"\n            >\n                <div class=\"record-plan\" v-show=\"activeTabKey === '1'\">\n                    <!-- 操作 -->\n                    <div class=\"table-operator\">\n                        <div class=\"pull-left\">\n                            <a-form layout=\"inline\">\n                                <a-form-item label=\"关键字\">\n                                    <a-input-search\n                                        v-model=\"queryParams.keywords\"\n                                        placeholder=\"输入关键字\"\n                                        style=\"width: 250px\"\n                                        enter-button\n                                        allow-clear\n                                        @search=\"onChange\"\n                                    />\n                                </a-form-item>\n                            </a-form>\n                        </div>\n                        <div class=\"pull-right\">\n                            <permission-button\n                                code=\"record-plans-create\"\n                                title=\"添加录像计划\"\n                                @handle-click=\"handleAddPlan\"\n                                type=\"modal\"\n                                btnType=\"Primary\"\n                                icon=\"plus\"\n                                :disabled=\"disabled\"\n                            />\n                        </div>\n                    </div>\n                    <a-table\n                        :columns=\"plansColumns\"\n                        :dataSource=\"plans\"\n                        :pagination=\"false\"\n                        :loading=\"loading\"\n                        :rowSelection=\"rowSelection\"\n                        :locale=\"localePlan\"\n                        rowKey=\"id\"\n                        ref=\"table1\"\n                    >\n                        <template slot=\"status\" slot-scope=\"status, record\">\n                            <a-badge\n                                :status=\"status | statusTypeFilter\"\n                                :text=\"record.status_text\"\n                            />\n                        </template>\n                        <span slot=\"time\" slot-scope=\"time\">{{ time | filterTime(time) }}</span>\n                        <template slot=\"operation\" slot-scope=\"text, record\">\n                            <permission-button\n                                code=\"record-plans-summary\"\n                                :isCheck=\"false\"\n                                title=\"录像统计\"\n                                type=\"modal\"\n                                :useBtnTag=\"false\"\n                                @handle-click=\"handlePlanSummary(record.id)\"\n                            />\n                            <permission-button\n                                code=\"record-plans-update\"\n                                :isCheck=\"false\"\n                                title=\"编辑\"\n                                type=\"modal\"\n                                :useBtnTag=\"false\"\n                                @handle-click=\"handlePlanEdit(record.id)\"\n                            />\n                            <permission-button\n                                code=\"record-plans-delete\"\n                                :isCheck=\"false\"\n                                title=\"删除\"\n                                type=\"confirm\"\n                                @handle-confirm=\"delPlan(record.id)\"\n                            />\n                        </template>\n                    </a-table>\n                    <lz-pagination\n                        :page=\"paginator\"\n                        @change=\"changePaginator\"\n                        @showSizeChange=\"showSizeChange\"\n                        :autoPush=\"false\"\n                    />\n                </div>\n                <div class=\"record-playback\" v-show=\"activeTabKey === '2'\">\n                    <!-- 操作 -->\n                    <div class=\"table-operator\">\n                        <div class=\"pull-left\">\n                            <a-form layout=\"inline\">\n                                <a-form-item label=\"录像状态\">\n                                <a-select\n                                    v-model=\"queryParams.record_status\"\n                                    placeholder=\"请选择\"\n                                    default-value=\"1\"\n                                    style=\"width: 150px\"\n                                    @change=\"refresh\"\n                                >\n                                    <a-select-option value=\"\">全部</a-select-option>\n                                    <a-select-option value=\"0\">未录像</a-select-option>\n                                    <a-select-option value=\"1\">录像中</a-select-option>\n                                    <a-select-option value=\"-1\">关闭录像</a-select-option>\n                                </a-select>\n                                </a-form-item>\n                                <a-form-item label=\"关键字\">\n                                    <a-input-search\n                                        v-model=\"queryParams.keywords\"\n                                        placeholder=\"输入关键字\"\n                                        style=\"width: 250px\"\n                                        enter-button\n                                        allow-clear\n                                        @search=\"onChange\"\n                                    />\n                                </a-form-item>\n                            </a-form>\n                        </div>\n                    </div>\n                    <a-table\n                        :columns=\"playbackColumns\"\n                        :dataSource=\"playBacks\"\n                        :pagination=\"false\"\n                        :loading=\"loading\"\n                        :rowSelection=\"rowSelection\"\n                        :locale=\"localePlayBack\"\n                        rowKey=\"id\"\n                        ref=\"table2\"\n                    >\n                        <span slot=\"time\" slot-scope=\"time\">{{ time | filterTime(time) }}</span>\n                        <template slot=\"operation\" slot-scope=\"text, record\">\n                            <permission-button\n                                code=\"record-playback-view\"\n                                title=\"查看录像\"\n                                :isCheck=\"false\"\n                                :routeLink=\"`/resource/record-playback/${record.id}/view`\"\n                                type=\"tab\"\n                            />\n                            <permission-button\n                                v-show=\"record.record_status == 1\"\n                                code=\"record-playback-stop\"\n                                :isCheck=\"false\"\n                                title=\"关闭录像\"\n                                type=\"confirm\"\n                                @handle-confirm=\"closePlayBack(record.id)\"\n                            />\n                            <permission-button\n                                v-show=\"[0, -1].includes(parseInt(record.record_status))\"\n                                code=\"record-playback-start\"\n                                :isCheck=\"false\"\n                                title=\"开启录像\"\n                                type=\"confirm\"\n                                @handle-confirm=\"startPlayBack(record.id)\"\n                            />\n                            <permission-button\n                                code=\"record-playback-delete\"\n                                :isCheck=\"false\"\n                                title=\"清空录像\"\n                                type=\"confirm\"\n                                @handle-confirm=\"delPlayBack(record.id)\"\n                            />\n                        </template>\n                    </a-table>\n                    <lz-pagination\n                        :page=\"paginator\"\n                        @change=\"changePaginator\"\n                        @showSizeChange=\"showSizeChange\"\n                        :autoPush=\"false\"\n                    />\n                </div>\n            </a-card>\n            <plan-form\n                ref=\"recordFormModal\"\n                :visible=\"visible\"\n                :loading=\"confirmLoading\"\n                @cancel=\"handleCancel\"\n                @ok=\"handleOk\"\n            />\n            <plan-summary\n                ref=\"summaryModal\"\n                :visible=\"visibleSummary\"\n                :loading=\"summaryLoading\"\n                @cancel=\"visibleSummary=false\"\n                @ok=\"visibleSummary=false\"\n            />\n        </div>\n        <router-view v-else />\n    </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport {\n    addRecordPlan,\n    editRecordPlan,\n    getRecordPlans,\n    delRecordPlan,\n    getRecordChannels,\n    startPlayBack,\n    closePlayBack,\n    delPlayBack\n} from '@/api/record'\nimport PermissionButton from '@/components/PermissionButton.vue'\nimport LzPagination from '@c/LzPagination'\nconst defaultQueryParams = {\n    keywords: '',\n    status: undefined,\n    record_status: undefined,\n    offset: 1,\n    limit: 20\n}\nexport default {\n    name: 'RecordManage',\n    data() {\n        return {\n            visible: false,\n            confirmLoading: false,\n            visibleSummary: false,\n            summaryLoading: false,\n            disabled: false,\n            tabList: [\n                {\n                    key: '1',\n                    tab: '录像计划'\n                },\n                {\n                    key: '2',\n                    tab: '录像回放'\n                }\n            ],\n            localePlan: {\n                filterConfirm: '确定',\n                filterReset: '重置',\n                emptyText: '暂无计划'\n            },\n            localePlayBack: {\n                filterConfirm: '确定',\n                filterReset: '重置',\n                emptyText: '暂无回放'\n            },\n            // activeTabKey: '1',\n            plansColumns: [\n                {\n                    title: '名称',\n                    dataIndex: 'name',\n                    key: 'name',\n                    width: 150\n                },\n                {\n                    title: '状态',\n                    dataIndex: 'status',\n                    key: 'status',\n                    scopedSlots: { customRender: 'status' },\n                    width: 150\n                },\n                {\n                    title: '天数限制',\n                    dataIndex: 'limit_days',\n                    key: 'limit_days',\n                    width: 150\n                },\n                {\n                    title: '空间大小限制(GB)',\n                    dataIndex: 'limit_space',\n                    key: 'limit_space',\n                    width: 150\n                },\n                {\n                    title: '超出后关闭计划',\n                    dataIndex: 'over_step_text',\n                    key: 'over_step_text',\n                    width: 150\n                },\n                {\n                    title: '计划明细',\n                    dataIndex: 'plan_range_text',\n                    key: 'plan_range_text',\n                    width: 300\n                },\n                {\n                    title: '更新时间',\n                    dataIndex: 'updated_time',\n                    key: 'updated_time',\n                    scopedSlots: { customRender: 'time' },\n                    width: 150\n                },\n                {\n                    title: '创建时间',\n                    dataIndex: 'created_Time',\n                    key: 'created_Time',\n                    scopedSlots: { customRender: 'time' },\n                    width: 150\n                },\n                {\n                    title: '操作',\n                    dataIndex: 'operation',\n                    fixed: 'right',\n                    scopedSlots: { customRender: 'operation' }\n                }\n            ],\n            plans: [],\n            playbackColumns: [\n                {\n                    title: '设备国标ID',\n                    dataIndex: 'device_id',\n                    key: 'device_id'\n                },\n                {\n                    title: '设备国标通道ID',\n                    dataIndex: 'channel_id',\n                    key: 'channel_id'\n                },\n                {\n                    title: '通道名称',\n                    dataIndex: 'channel_name',\n                    key: 'channel_name'\n                },\n                {\n                    title: '关联计划',\n                    dataIndex: 'record_plan_name',\n                    key: 'record_plan_name'\n                },\n                {\n                    title: '录制状态',\n                    dataIndex: 'record_status_text',\n                    key: 'record_status_text'\n                },\n                {\n                    title: '更新时间',\n                    dataIndex: 'updated_time',\n                    key: 'updated_time',\n                    scopedSlots: { customRender: 'time' }\n                },\n                {\n                    title: '操作',\n                    dataIndex: 'operation',\n                    scopedSlots: { customRender: 'operation' }\n                }\n            ],\n            playBacks: [],\n            loading: false,\n            selectedRowKeys: [],\n            selectedRows: [],\n            queryParams: Object.assign(defaultQueryParams, {}),\n            paginator: null\n        }\n    },\n    components: {\n        PermissionButton,\n        LzPagination,\n        PlanForm: () => import('./form.vue'),\n        PlanSummary: () => import('./summary.vue')\n    },\n    mounted() {\n        if (this.isTopView) {\n            this.loadData()\n        }\n    },\n    computed: {\n        activeTabKey: {\n            get() {\n                return this.$store.state.tab.record_tab_active_key\n            },\n            set(val) {\n                this.$store.commit('SET_RECORD_TAB', val)\n            }\n        },\n        isTopView() {\n            return this.$route.path === '/resource/record-plans'\n        },\n        rowSelection() {\n            return {\n                selectedRowKeys: this.selectedRowKeys,\n                onChange: this.onSelectChange\n            }\n        }\n    },\n    methods: {\n        showSizeChange(current, perPage) {\n            this.queryParams = Object.assign(this.queryParams, {\n                offset: current,\n                limit: perPage\n            })\n            this.refresh()\n        },\n        changePaginator(page, pageSize) {\n            this.queryParams = Object.assign(this.queryParams, {\n                offset: page,\n                limit: pageSize\n            })\n            this.refresh()\n        },\n        onTabChange(key) {\n            this.activeTabKey = key\n            this.refresh()\n        },\n        onChange(val) {\n            this.refresh()\n        },\n        async loadData() {\n            this.loading = true\n            if (this.activeTabKey === '1') {\n                const { items: plans, paginator } = await getRecordPlans(this.queryParams)\n                this.plans = plans\n                this.paginator = paginator\n            } else {\n                const { items: channels, paginator } = await getRecordChannels(this.queryParams)\n                this.playBacks = channels\n                this.paginator = paginator\n            }\n            this.loading = false\n        },\n        handleCancel() {\n            this.visible = false\n        },\n        handleOk() {\n            const model = this.$refs.recordFormModal.model\n            this.confirmLoading = true\n            const recordFormModalVm = this.$refs.recordFormModal\n            recordFormModalVm.$refs.recordPlanDialogForm.validate((valid) => {\n                if (!valid) {\n                    this.confirmLoading = false\n                    return false\n                }\n                const planRanges = recordFormModalVm.$refs.recordPlan.getPlan()\n                // .filter(item => item.length > 0)\n                model.plan_ranges = planRanges\n                console.log('model:', model)\n                if (!model.id) {\n                    addRecordPlan(model)\n                        .then((response) => {\n                            this.$message.success('添加成功')\n                            this.visible = false\n                            this.confirmLoading = false\n                            this.refresh()\n                        })\n                        .catch((_err) => {\n                            // this.visible = false\n                            this.confirmLoading = false\n                        })\n                } else {\n                    editRecordPlan(model.id, model)\n                        .then((response) => {\n                            this.$message.success('修改成功')\n                            this.visible = false\n                            this.confirmLoading = false\n                            this.refresh()\n                        })\n                        .catch((_err) => {\n                            // this.visible = false\n                            this.confirmLoading = false\n                        })\n                }\n            })\n        },\n        refresh() {\n            this.resetData()\n            this.loadData()\n        },\n        handleAddPlan() {\n            this.$refs.recordFormModal.resetForm()\n            this.visible = true\n            this.confirmLoading = false\n            this.$refs.recordFormModal.initRecordPlan()\n        },\n        handlePlanEdit(id) {\n            this.$refs.recordFormModal.loadPlan(id)\n            this.visible = true\n            this.confirmLoading = false\n        },\n        handlePlanSummary(id) {\n            this.$refs.summaryModal.initData(id)\n            this.visibleSummary = true\n            this.summaryLoading = false\n        },\n        delPlan(id) {\n            const that = this\n            this.$confirm({\n                title: '确认删除该计划?',\n                // content: h => <div style=\"color:red;\">${id}</div>,\n                async onOk() {\n                    delRecordPlan(id)\n                        .then((response) => {\n                            that.$message.success('操作成功')\n                            that.refresh()\n                        })\n                        .catch((_error) => {})\n                },\n                onCancel() {\n                    // console.log('Cancel');\n                },\n                class: 'test'\n            })\n        },\n        onSelectChange(selectedRowKeys, selectedRows) {\n            this.selectedRowKeys = selectedRowKeys\n            this.selectedRows = selectedRows\n            this.disabled = false\n        },\n        resetData() {\n            this.selectedRowKeys = []\n            this.selectedRows = []\n            this.disabled = false\n            this.queryParams = Object.assign(defaultQueryParams, {})\n            this.paginator = null\n        },\n        startPlayBack(id) {\n            const that = this\n            this.$confirm({\n                title: '确定要开启录像?',\n                async onOk() {\n                    startPlayBack(id)\n                        .then((response) => {\n                            setTimeout(() => {\n                                that.$message.success('操作成功')\n                                that.refresh()\n                            }, 1000)\n                        })\n                        .catch((_error) => {})\n                },\n                onCancel() {}\n            })\n        },\n        closePlayBack(id) {\n            const that = this\n            this.$confirm({\n                title: '确定要关闭录像?',\n                async onOk() {\n                    closePlayBack(id)\n                        .then((response) => {\n                            that.$message.success('操作成功')\n                            that.refresh()\n                        })\n                        .catch((_error) => {})\n                },\n                onCancel() {}\n            })\n        },\n        delPlayBack(id) {\n            const that = this\n            this.$confirm({\n                title: '清空不能恢复，请确认是否清空录像?',\n                async onOk() {\n                    delPlayBack(id)\n                        .then((response) => {\n                            that.$message.success('操作成功')\n                            that.refresh()\n                        })\n                        .catch((_error) => {})\n                },\n                onCancel() {}\n            })\n        }\n    },\n    filters: {\n        filterTime(time) {\n            return moment(time).format('YYYY-MM-DD HH:mm')\n        },\n        statusTypeFilter(type) {\n            const statusTypeMap = {\n                false: 'warning',\n                true: 'success'\n            }\n            return statusTypeMap[type]\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.detail-layout {\n    margin-left: 44px;\n}\n.text {\n    color: rgba(0, 0, 0, 0.45);\n}\n\n.heading {\n    color: rgba(0, 0, 0, 0.85);\n    font-size: 20px;\n}\n\n.no-data {\n    color: rgba(0, 0, 0, 0.25);\n    text-align: center;\n    line-height: 64px;\n    font-size: 16px;\n\n    i {\n        font-size: 24px;\n        margin-right: 16px;\n        position: relative;\n        top: 3px;\n    }\n}\n\n.mobile {\n    .detail-layout {\n        margin-left: unset;\n    }\n    .text {\n    }\n    .status-list {\n        text-align: left;\n    }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ec4b6e34&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ec4b6e34&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ec4b6e34\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPagination.vue?vue&type=style&index=0&id=0efa4349&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.page)?_c('a-pagination',_vm._b({ref:\"page\",staticClass:\"my-1 pagination\",attrs:{\"page-size-options\":_vm.pageSizes,\"total\":_vm.page.total,\"show-size-changer\":_vm.showSizeChanger,\"show-quick-jumper\":_vm.showQuickJumper,\"show-total\":function (total) { return (\"共 \" + total + \" 条\"); },\"page-size\":_vm.perPage},on:{\"update:pageSize\":function($event){_vm.perPage=$event},\"update:page-size\":function($event){_vm.perPage=$event},\"change\":_vm.onChange,\"showSizeChange\":_vm.onSizeChange},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}},'a-pagination',_vm.$attrs,false)):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-pagination\n    ref=\"page\"\n    v-if=\"page\"\n    v-model=\"currentPage\"\n    v-bind=\"$attrs\"\n    :page-size-options=\"pageSizes\"\n    class=\"my-1 pagination\"\n    :total=\"page.total\"\n    :show-size-changer=\"showSizeChanger\"\n    :show-quick-jumper=\"showQuickJumper\"\n    :show-total=\"(total) => `共 ${total} 条`\"\n    :page-size.sync=\"perPage\"\n    @change=\"onChange\"\n    @showSizeChange=\"onSizeChange\"\n  />\n</template>\n\n<script>\nexport default {\n  name: 'LzPagination',\n  data() {\n    return {\n      currentPage: 1,\n      perPage: 15,\n    }\n  },\n  props: {\n    page: Object,\n    /**\n     * 分页改变时，是否自动改变地址栏的 query string\n     */\n    autoPush: {\n      type: Boolean,\n      default: false,\n    },\n    showSizeChanger: {\n      type: Boolean,\n      default: true,\n    },\n    showQuickJumper: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    pageSizes() {\n      const sizes = ['15', '30', '50', '100', '200']\n      const perPage = this.page.perPage.toString()\n      if (sizes.indexOf(perPage) === -1) {\n        return [perPage, ...sizes]\n      } else {\n        return sizes\n      }\n    },\n  },\n  methods: {\n    push({ page, perPage }) {\n      const query = Object.assign({}, this.$route.query, {\n        offset: page || this.currentPage,\n        limit: perPage || this.perPage,\n      })\n      this.$router.push({\n        path: this.$route.path,\n        query,\n      })\n    },\n    onSizeChange(current, perPage) {\n      this.$emit('showSizeChange', current, perPage)\n      if (!this.autoPush) {\n        return\n      }\n\n      // 切换每页数后，当前页置为 1\n      this.currentPage = 1\n      this.push({ page: 1, perPage })\n    },\n    onChange(page, pageSize) {\n      this.$emit('change', page, pageSize)\n      this.autoPush && this.push({ page })\n    },\n  },\n  watch: {\n    page: {\n      handler(newVal) {\n        if (!newVal) {\n          return\n        }\n        this.currentPage = newVal.currentPage\n        this.perPage = newVal.perPage\n      },\n      immediate: true,\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n.pagination {\n  overflow-x: auto;\n  white-space: nowrap;\n  height: 40px;\n  display: flex;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LzPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LzPagination.vue?vue&type=template&id=0efa4349&scoped=true&\"\nimport script from \"./LzPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./LzPagination.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LzPagination.vue?vue&type=style&index=0&id=0efa4349&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0efa4349\",\n  null\n  \n)\n\nexport default component.exports","import Request from '@/axios/request'\n\nexport function getRecordPlans (params = {}) {\n  return Request.get('record/plans', { params })\n}\n\nexport function addRecordPlan (formData) {\n  return Request.promisePost('record/addPlan', formData)\n}\n\nexport function editRecordPlan (id, formData) {\n  return Request.promisePost('record/editPlan', formData, { params: { id: id } })\n}\nexport function getRecordPlan (id) {\n  return Request.get('record/plan', { params: { id: id } })\n}\n\nexport function delRecordPlan (id) {\n  return Request.promisePost('record/delPlan', { id: id })\n}\n\nexport function getRecordPlanItems (params = {}) {\n  return Request.get('record/planItems', { params })\n}\n\nexport function getRecordChannels (params = {}) {\n  return Request.get('record/recordChannels', { params })\n}\n\nexport function getRecordFiles (params = {}) {\n  return Request.get('record/files', { params })\n}\nexport function getSummaryList (params = {}) {\n  return Request.get('record/summary', { params })\n}\n\nexport function startPlayBack(id) {\n  return Request.promisePost('record/startPlayBack', {video_id: id})\n}\n\nexport function closePlayBack(id) {\n  return Request.promisePost('record/closePlayBack', {video_id: id})\n}\n\nexport function delPlayBack(id) {\n  return Request.promisePost('record/delPlayBack', {video_id: id})\n}"],"sourceRoot":""}